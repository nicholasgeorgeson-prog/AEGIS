{
  "version": "5.9.38",
  "release_date": "2026-02-20",
  "core_version": "5.9.38",
  "checker_count": 105,
  "name": "AEGIS",
  "full_name": "Aerospace Engineering Governance & Inspection System",
  "description": "Enterprise document analysis and compliance verification platform for aerospace and defense technical documentation",
  "legacy_name": "TechWriterReview",
  "changelog": [
    {
      "version": "5.9.38",
      "date": "2026-02-20",
      "changes": [
        "FIX: SharePoint connector — improved error diagnostics with categorized messages (SSL, DNS, proxy, timeout, reset)",
        "FIX: SharePoint connector — increased default timeout from 30s→45s for corporate networks",
        "FIX: SharePoint connector — auto-tries verify=False on all ConnectionErrors (not just SSL-related ones)",
        "FIX: SharePoint connector — creates fresh session with SSO on connection retry for better recovery",
        "ENH: One-click 'Connect & Scan' button combines test + auto-detect library + discover files + start scan",
        "ENH: Library path auto-populates from URL paste and server-side detection — no manual entry needed",
        "ENH: SharePoint batch scans now use batch_mode for faster processing (skips html_preview generation)",
        "ENH: New /api/review/sharepoint-connect-and-scan endpoint replaces multi-step Test → Preview → Scan flow"
      ]
    },
    {
      "version": "5.9.37",
      "date": "2026-02-20",
      "changes": [
        "PERF: Persistent Docling worker pool — eliminates 15-30s Python startup overhead per document during batch scans",
        "PERF: Docling initialization (torch, transformers, DocumentConverter) happens ONCE, not per-document",
        "PERF: batch_mode option skips html_preview and clean_full_text generation during batch/folder scans",
        "PERF: Increased folder scan workers from 3→4 and chunk size from 5→8 for better throughput",
        "FIX: Increased per-file timeout from 300s→480s to prevent false timeout errors on complex PDFs",
        "FIX: Persistent worker auto-restarts if it dies, with automatic fallback to legacy per-document subprocess",
        "ENH: Docling worker pool is thread-safe — multiple batch threads share a single persistent worker"
      ]
    },
    {
      "version": "5.9.36",
      "date": "2026-02-20",
      "changes": [
        "NEW: Proposal Compare tool — upload 2-10 vendor proposals (DOCX/PDF/XLSX) and compare financial data side-by-side",
        "NEW: Proposal parser extracts tables, dollar amounts, line items, company names, and totals from mixed document types",
        "NEW: Comparison engine aligns line items across proposals using text similarity matching with category-aware scoring",
        "NEW: Side-by-side matrix with green/red highlighting for lowest/highest costs and variance percentage column",
        "NEW: Category summaries group costs by Labor, Material, Travel, ODC, Overhead, and Fee across all vendors",
        "NEW: Export comparison to formatted XLSX with 3 sheets — Comparison, Category Summary, and Proposal Details",
        "NEW: Proposal Compare landing page tile with purple accent color (#8B5CF6)",
        "NEW: Proposal Compare demo scenes — 6 overview + 10 sub-demo narrated walkthroughs with pre-generated audio",
        "NEW: Batch scan progress dashboard now shows running Issues and Roles counters alongside document count",
        "ENH: Batch/folder/SharePoint scan completion lines now show: words • issues • roles • Score format",
        "ENH: Guide system _navigateToSection() support for proposal-compare modal"
      ]
    },
    {
      "version": "5.9.35",
      "date": "2026-02-20",
      "changes": [
        "FIX: Batch/folder scan now shows accurate word count instead of 0 — was reading from wrong location in review results",
        "FIX: SharePoint batch scan SSL errors — multi-layer SSL fallback for corporate CA certificates (verify=True → verify=False → fresh session)",
        "FIX: SharePoint library path auto-detection after successful connection test",
        "FIX: Exclusion list removeExclusion() now calls DELETE API — removed exclusions no longer reappear after page refresh",
        "FIX: ExclusionRule matching improved — trailing slash and protocol normalization for exact match type",
        "FIX: Export Highlighted error reporting — full traceback returned in response for debugging",
        "FIX: Loading screen SYSTEMS ONLINE no longer shows before app is ready — now triggers at actual boot completion",
        "FIX: HV header layout — mode/depth selector pushed right with margin-left:auto, title no longer clipped",
        "FIX: HV Upload tab now auto-opens file browse dialog when clicked",
        "FIX: Statement Forge sub-modal z-index raised to 10500 (above Statement History 10000)",
        "FIX: Document Review dropzone click restricted to icon area — no more accidental file browse on panel click",
        "FIX: Statement Source Viewer save edit now validates required fields and shows warning toast on failure",
        "NEW: 478 pre-generated MP3 narration clips with Microsoft Jenny Neural voice for all demo scenes",
        "NEW: Voice narration manifest supports sub-demo audio lookup by subDemoId",
        "NEW: SharePoint REST API validation strategy added to Hyperlink Validator retest phase",
        "NEW: Document viewer toggle — switch between Preview (formatted HTML) and Text (plain) views for any document",
        "NEW: Start_AEGIS.bat — launches server minimized via PowerShell with auto-wait and browser open",
        "IMPROVE: HV scan modes simplified from 3 to 2 — removed Quick (Format Only) mode",
        "IMPROVE: Loading screen hex grid brighter (6% → 14% opacity) with pulse animation",
        "IMPROVE: Real boot progress tracking — modules report loading stages to progress bar",
        "IMPROVE: SharePoint URL auto-parse now triggers on paste event in addition to change"
      ]
    },
    {
      "version": "5.9.34",
      "date": "2026-02-19",
      "changes": [
        "FIX: Resolved persistent 413 Request Entity Too Large error that blocked all Excel/DOCX exports on Windows",
        "FIX: Removed global MAX_CONTENT_LENGTH limit entirely — AEGIS is a local-only tool with no need for upload size restrictions",
        "FIX: Added belt-and-suspenders MAX_CONTENT_LENGTH=None override at 3 levels: app config, before_request hook, and inline before request.files access",
        "FIX: Added try/except RequestEntityTooLarge wrapper around request.files access with diagnostic logging",
        "IMPROVE: Export endpoints now log MAX_CONTENT_LENGTH state before parsing for easier debugging"
      ]
    },
    {
      "version": "5.9.33",
      "date": "2026-02-19",
      "changes": [
        "NEW: Multi-color status highlighting for Excel export — rows color-coded by validation status: green (working), yellow (SSL/redirect warning), orange (auth required/blocked), red (broken/timeout/DNS failed), grey (no URL)",
        "NEW: 'Link Status' and 'Link Details' columns auto-added to exported Excel with status label and error details per row",
        "NEW: Summary sheet ('Link Validation Summary') added to exported Excel with category counts, detailed status breakdown, and color legend",
        "CHANGE: Export Highlighted button now enabled whenever results exist (not just broken links) — every row gets color-coded regardless of status",
        "CHANGE: Frontend sends ALL validation results to backend for multicolor export (was sending only broken/issue results)",
        "CHANGE: Results slimmed to essential fields (url, status, status_code, message) before sending to reduce payload size",
        "FIX: Windows NamedTemporaryFile compatibility — close temp handle before file.save() to avoid file locking conflicts"
      ]
    },
    {
      "version": "5.9.32",
      "date": "2026-02-19",
      "changes": [
        "FIX: Corporate SSLERROR false positives — multi-strategy SSL fallback replaces single HEAD-with-verify=False attempt; Strategy 1: GET with verify=False + stream=True (corporate servers reject HEAD); Strategy 2: fresh SSO session + verify=False for internal links needing both SSL bypass and Windows auth; headless browser priority list expanded to include NGC corporate domains",
        "FIX: cyber.mil/STIG and .mil/.gov bot-protected links now marked BLOCKED (not BROKEN) — eligible for headless browser retest; DoD WAF/Cloudflare 403s no longer count as broken links",
        "FIX: SSL_WARNING messages cleaned up — removed verbose HTTPSConnectionPool error text; now shows human-readable reasons (certificate not trusted, expired, self-signed, etc.)",
        "FIX: Export Highlighted error handler now catches RequestEntityTooLarge specifically with helpful message instead of generic 'internal error'; error messages now include exception type for easier debugging",
        "ARCH: Retest phase gains Strategy 2b (get_no_ssl_fresh_auth) combining verify=False with fresh Windows SSO for corporate SSLERROR links",
        "ARCH: urllib3 InsecureRequestWarning suppressed for deliberate verify=False corporate CA bypass"
      ]
    },
    {
      "version": "5.9.30",
      "date": "2026-02-19",
      "changes": [
        "FIX: Export Highlighted Excel 413 error — Werkzeug multipart parser rejected large payloads because app-level MAX_CONTENT_LENGTH wasn't disabled; now temporarily sets both request-level and app-config-level limits to None for export endpoints with automatic restoration",
        "FIX: File download links falsely flagged as BROKEN — added GET fallback for 401/403 responses; when HEAD returns auth error, retries with GET+stream to detect Content-Disposition/Content-Type file downloads; links serving files now correctly marked WORKING",
        "FIX: TTS narration voice changed from robotic male (GuyNeural) to natural female (JennyNeural) — updated edge-tts default, pyttsx3 fallback now prioritizes female voices (Zira/Jenny/Samantha), Web Speech API voice priority rewritten to prefer Windows neural female voices and macOS Samantha",
        "ARCH: HV post-validation revised to DNS-only corporate domain downgrades — HTTP errors on corporate domains are now genuine after GET fallback testing; only DNSFAILED and BLOCKED on known corporate domains reclassified to AUTH_REQUIRED"
      ]
    },
    {
      "version": "5.9.29",
      "date": "2026-02-19",
      "changes": [
        "FIX: Export Highlighted button showed 1200+ broken links when only 80 were broken — AUTH_REQUIRED was incorrectly included in broken status count; removed from 4 locations across JS and Python",
        "FEATURE: Robust Windows SSO auth for internal link validation — 6-tier cascade: pre-validation auth probe, per-URL fresh session retry on 401/403, SharePoint login redirect detection, DNS-only corporate domain downgrade (removed blanket downgrades that masked real broken links), AUTH_REQUIRED now included in retest phase",
        "FEATURE: SharePoint Online document library scanning — new SharePoint tab in batch upload modal; connects via REST API with Windows SSO (zero new dependencies); discovers documents, downloads to temp, reviews with full AEGIS engine; real-time progress dashboard with per-file status",
        "ARCH: New _probe_windows_auth() pre-validation probe tests SSO against internal URLs before bulk validation starts",
        "ARCH: New _retry_with_fresh_auth() creates fresh requests.Session per auth retry — NTLM/Negotiate is connection-specific, shared sessions across threads corrupt handshake state",
        "ARCH: New _is_login_page_redirect() detects SharePoint/ADFS/Azure AD login page redirects and marks as AUTH_REQUIRED instead of REDIRECT",
        "ARCH: Replaced blanket corporate/document domain downgrades (v5.0.5-v5.9.1) with DNS-only — only DNSFAILED on corporate domains gets downgraded to AUTH_REQUIRED; HTTP errors (BROKEN/TIMEOUT/BLOCKED) are now genuine after Tier 2 auth retry",
        "ARCH: New sharepoint_connector.py — SharePointConnector class with REST API discovery, file download, and Windows SSO authentication",
        "ARCH: SharePoint scan reuses existing folder scan state management and progress polling endpoint — zero frontend infrastructure changes needed for progress tracking"
      ]
    },
    {
      "version": "5.9.28",
      "date": "2026-02-19",
      "changes": [
        "FIX: Settings presets not enforced — 9 checkers in additional_checkers bypassed UI toggles; moved all to option_mapping so Aerospace/Requirements/General presets properly control checker count",
        "FIX: Adjudication freeze on save — missing return path in roles_routes.py when function_tags empty caused 500 error; added error handling to frontend fetch call",
        "FIX: Link History panel blank — API returns data.scans but code expected data.history; added fallback key lookup",
        "FIX: Metrics Top Ten Roles blank — legacy SQL queried non-existent total_mentions column; rewrote with JOIN through document_roles table",
        "FIX: Scan History panel blank when opened from landing page tile — added loadHistoryData() call after modal show",
        "FIX: HV Excel export 413 payload too large — now sends only broken/issue results instead of all results (reduced payload from ~50MB to ~500KB); also raised global upload limit to 200MB",
        "FIX: Rebranding — replaced all remaining 'TechWriter Review' references with 'AEGIS' in index.html, app.js, config_routes.py, review_routes.py, core.py, report_generator.py",
        "FIX: Help tabs blank — added 5 missing Settings help sections (Review, Network, Profiles, Display, Data Management) to help-docs.js",
        "FIX: HV broken link count mismatch — summary tile now groups BROKEN+INVALID+DNSFAILED+SSLERROR consistently with frontend state (backend sent separate counts)",
        "FIX: Annotation alignment — document viewer now searches adjacent paragraphs (+/-2) when flagged text not found in target paragraph (extraction boundary offset)",
        "FIX: Particle effects not updating on nav bar theme toggle — exposed updateParticleTheme() from landing page IIFE; alpha, radius, and color all sync on mode switch",
        "UI: SOW Generator document selection now shows gold highlight + left border on checked documents for visual feedback",
        "UI: Added 2 missing checker toggles for Directive Verb Consistency and Unresolved Cross-References in Settings panel",
        "UI: Scan progress dashboard shows default detail text for each phase immediately on activation",
        "NLP: Added defense contractor abbreviations (NG, NGC, NGIS, BAE, GD, SAIC, etc.) to spelling skip list and defense dictionary",
        "UI: CSS-only loading indicator (gold spinner + AEGIS text) shows during initial page load, auto-dismissed when JS initializes",
        "UI: Landing page responsive — added 1200px intermediate breakpoint for smoother grid transitions on tablets/narrow laptops",
        "UI: Metrics analytics modal — fixed responsive width (was incorrectly widening to 99vw at 1000px), added 1200px breakpoint and border-radius reduction at small sizes",
        "UI: Scan ETA now uses historical step durations for early estimates (blends stored averages with live rate as progress increases)",
        "UI: Graph export visual polish — label background rects for readability, smooth CSS transitions for dim/highlight, boundary-aware tooltips, gold glow on highlighted nodes, smart ellipsis truncation",
        "UI: Adjudication HTML export — added Category and Function Tag filter dropdowns with checkboxes, active filter badges, and combined filtering (search + status + category + tags)",
        "UI: Role extraction pipeline stats shown in scan progress dashboard — candidates found, duplicates removed, unique roles, deliverables (parsed from backend PIPELINE: progress message)",
        "BACKEND: core.py sends PIPELINE: progress message with extraction stats (roles_found|dupes|roles|deliverables) during postprocessing phase"
      ]
    },
    {
      "version": "5.9.27",
      "date": "2026-02-19",
      "changes": [
        "FIX: Roles Studio 403 on save — added missing CSRF token (X-CSRF-Token header) to all 3 bulk-update-statements calls in statement-source-viewer.js (review status, notes, text edit)",
        "FIX: Hyperlink Validator Excel export 413 — raised upload limit to 200MB for export-highlighted endpoints (large Excel + results JSON exceeded 50MB default)",
        "FIX: /api/version 34-124s delay — cached checker count after first AEGISEngine init instead of re-creating engine on every version API call",
        "FIX: get_statement_review_stats AttributeError — method exists in scan_history.py but Windows deployment had stale copy (5 errors in diagnostics cleared by update)"
      ]
    },
    {
      "version": "5.9.26",
      "date": "2026-02-19",
      "changes": [
        "FEATURE: SOW Generator API endpoints — added GET /api/sow/data and POST /api/sow/generate backend routes, SOW Generator is now fully functional",
        "FEATURE: Document Compare HTML export — standalone HTML report with AEGIS branding, color-coded diff rows, interactive filter buttons, print-optimized styling",
        "FIX: Added symspellpy, editdistpy, and en_core_web_sm wheels to wheels/ directory for complete offline installation",
        "FIX: Windows MIME type error — added explicit MIME type registration for .css, .js, .json, .svg to prevent 'refused to apply style' browser errors",
        "FIX: POST /api/diagnostics/frontend 404 — added endpoint for frontend-logger.js diagnostic log sync (was firing every 60s with no backend route)",
        "FIX: POST /api/diagnostics/frontend-logs 404 — added endpoint for console-capture.js log sync",
        "FIX: Created static/audio/demo/manifest.json — empty manifest to prevent 404 on every page load",
        "FIX: Ensured static/images/logo.svg is included in distribution for proper logo display"
      ]
    },
    {
      "version": "5.9.25",
      "date": "2026-02-19",
      "changes": [
        "FIX: install_nlp.py rewritten — now installs all 7 required NLP models (spaCy en_core_web_sm + 6 NLTK data packages: punkt, punkt_tab, averaged_perceptron_tagger, averaged_perceptron_tagger_eng, stopwords, wordnet) to match health check requirements",
        "FIX: NLTK wordnet zip extraction bug — installer now auto-extracts downloaded zip files that NLTK fails to extract, preventing 'wordnet missing' health check failure",
        "UPDATE: Install_AEGIS_OneClick.bat v5.9.25 — Step 7 now downloads and verifies all NLTK data packages with fallback extraction, runs NLP health check at end of install",
        "UPDATE: install_offline.bat v5.9.25 — added Step 5/6 for NLP model installation with spaCy download + NLTK data download + wordnet extraction fix",
        "UPDATE: Install_AEGIS.bat v5.9.25 — added NLTK data download for both offline and online install paths, added install_nlp.py --verify step"
      ]
    },
    {
      "version": "5.9.24",
      "date": "2026-02-19",
      "changes": [
        "FIX: Overview 'Export All Roles (CSV)' and 'Export All Roles (JSON)' now correctly extract roles from /api/roles/aggregated response — data is a direct array, not {roles: [...]}",
        "FIX: Overview 'Export Current Document (CSV)' now works — Cache.overview was never populated, added assignment in renderOverview() after filter application",
        "ENHANCE: 'Export Current Document (CSV)' now includes Documents, Mentions, Responsibilities, Category, Source columns (was only Name, Mentions, Statements) and reflects document filter in filename"
      ]
    },
    {
      "version": "5.9.23",
      "date": "2026-02-19",
      "changes": [
        "REBUILD: Documents by Owner HTML report — added generate_comprehensive_owners_report() to report_html_generator.py with executive summary, Chart.js charts, search/sort/filter, expandable owner cards, dark mode, print support",
        "FIX: Documents by Owner report no longer falls back to basic static HTML — the missing advanced generator function has been implemented",
        "REBUILD: Relationship diagram HTML export — enhanced with directional relationship arrows (inherits-from, uses-tool, co-performs, supplies-to, receives-from), node sizing by connection count, info panel on click, dark/light theme toggle, link type color coding and dash patterns, relationship data from role_relationships table now included",
        "FIX: Graph export endpoint now queries role_relationships table and includes directional relationship links alongside co-occurrence links"
      ]
    },
    {
      "version": "5.9.22",
      "date": "2026-02-18",
      "changes": [
        "FIX: Statement editor Save button now works — fixed boolean vs dict return type mismatch in routes.py",
        "FIX: Acronym checker no longer flags 'NG' from inside words like 'engineering' — replaced \\b word boundary with negative lookahead/lookbehind in all 3 acronym checker files",
        "FIX: Z-index audit — Role Source Viewer (50000), Auto Classify overlay (50000) now open ABOVE parent Roles Studio modal (10000)",
        "FIX: Blinking text cursors eliminated globally — added caret-color: transparent on non-input elements, removed cursor:text from statement-history.css",
        "FIX: Issues by Category legend now sticky at bottom of scrollable panel, removed fixed max-height so panels match Fix Analyzer height",
        "FIX: Missing get_statement_review_stats() method added to scan_history.py — was declared in v4.6.0 changelog but never implemented",
        "FIX: Settings Stored Data now populates all 4 spans (scan history, statements, roles, learning data) instead of showing 'Loading'",
        "FIX: HV User-Agent updated to Chrome 131 with Sec-Fetch headers — fixes false-positive broken links for YouTube, wikis, .mil/.gov sites",
        "FIX: Auto Classify modal widened from 520px to 720px, results area expanded from 300px to 50vh for long role names/descriptions",
        "FIX: Auto Classify deliverable detection now excludes organizational groups (teams, boards, committees, panels) from being flagged as deliverables",
        "FIX: Batch scan now includes Statement Forge extraction — statements extracted and persisted during batch/folder scan alongside regular review",
        "FIX: Data Explorer 'View in Document' — fixed race condition by closing DE first, then opening Role Source Viewer after delay",
        "FIX: Statement Forge file picker — added .txt/.md to valid types, added fresh CSRF token refresh before upload to prevent stale token failures",
        "FIX: Edge bundling node click now triggers drill-down filter (applyDrillDownFilter) in addition to select/highlight",
        "FIX: Graph smart search onSelect now also calls selectNode to show details panel with drill-down",
        "UX: SIPOC Step 5 'Done' label in step indicator now clickable to close the wizard modal"
      ]
    },
    {
      "version": "5.9.21",
      "date": "2026-02-18",
      "changes": [
        "ENH: Replaced 5 static PNG diagrams in Help Documentation with animated HTML/CSS diagrams — Architecture Overview, Checker Categories, Extraction Pipeline, Docling Backend Selection, NLP Processing Pipeline",
        "ENH: Animated diagrams use staggered fade-in + slide-up animations, gold glow title shimmer, hover scale effects, and connector grow-in animations",
        "ENH: All diagram CSS scoped with unique prefixes (aao-, acc-, aep-, adb-, anp-) to prevent style conflicts with existing UI"
      ]
    },
    {
      "version": "5.9.20",
      "date": "2026-02-18",
      "changes": [
        "FIX: Data Explorer stat card clicks now open properly above Roles Studio — z-index bumped from 10000 to 15000 to layer above modal backdrop (10001)",
        "ENH: Particles now visible through Data Explorer backdrop — reduced overlay opacity from 0.85 to 0.45 (dark) and 0.6 to 0.4 (light), removed backdrop-filter blur(10px)",
        "ENH: Email Diagnostics now generates .eml file with logs ATTACHED — replaces old mailto: approach that required manual file drag-drop. Double-clicking the .eml opens Outlook/Mail with diagnostic JSON + aegis.log already attached"
      ]
    },
    {
      "version": "5.9.19",
      "date": "2026-02-18",
      "changes": [
        "FIX: Light mode metric card drill-downs now have proper text visibility — added 16 CSS overrides for expanded content (labels, bars, counts, chips, stats, rings) using warm stone color palette instead of white-on-white",
        "FIX: Metric cards now properly collapse when clicking outside — closeAllDrillDowns() was missing classList.remove('lp-metric-expanded') leaving cards in expanded visual state",
        "ENH: Settings tabs now show scroll indicators — gradient fades and arrow buttons appear when tabs overflow the container, active tab auto-scrolls into view on switch",
        "ENH: Particle canvas moved to body level as global background — visible through semi-transparent modal backdrops and any UI gaps. Body background set to transparent with html element as fallback"
      ]
    },
    {
      "version": "5.9.18",
      "date": "2026-02-18",
      "changes": [
        "FIX: Help beacon (?) now hides during demo playback so it no longer overlays the X stop button and demo controls. Beacon reappears automatically when demo ends or is stopped",
        "FIX: All 5 Document Compare sub-demo preActions now use _navigateToSection('compare') to auto-open DocCompare with a real document instead of clicking #nav-compare which showed the picker overlay",
        "QA: All 5 Document Compare sub-demos re-verified — document_selection, diff_views, change_navigation, compare_export, compare_doc_switcher all open the actual comparison modal correctly with no picker overlay"
      ]
    },
    {
      "version": "5.9.17",
      "date": "2026-02-17",
      "changes": [
        "FIX: BUG #9 — Narration speed race condition resolved. Changing playback speed mid-demo now properly syncs all active components: Web Speech utterances are cancelled and restarted at new rate, pending step timers are rescheduled with adjusted delays, typewriter effect restarts from current position at new speed, and audio element playbackRate updates immediately",
        "FIX: Compare demo now opens the actual Document Comparison modal with auto-selected document instead of showing the document picker overlay",
        "FIX: Compare document picker X button not closing — duplicate overlay bug caused by repeated openCompareFromNav() calls stacking multiple picker overlays with same ID; now removes existing picker before creating new one",
        "FIX: Particle canvas moved inside #aegis-landing-page with z-index:0 so particles render behind all tiles, cards, and modals instead of floating on top (was z-index:100000 on body)",
        "QA: Full demo verification complete — all 12 sections (79 overview scenes + 93 sub-demos with ~471 scenes) tested and passing across 4 QA sessions"
      ]
    },
    {
      "version": "5.9.16",
      "date": "2026-02-17",
      "changes": [
        "NEW: SOW Generator template upload — upload a DOCX template with {{PLACEHOLDER}} markers ({{TITLE}}, {{REQUIREMENTS}}, {{ROLES}}, etc.) and AEGIS populates it with extracted data, returning a ready-to-use DOCX",
        "NEW: Graph View export — Export button with dropdown menu for PNG (high-res 3x), SVG (vector), and Interactive HTML formats",
        "NEW: Interactive HTML graph export — standalone D3.js force-directed graph with pan/zoom, search, tooltip details, and filter by function tag, role type, and org group",
        "NEW: SOW Generator promoted to its own guide section with dedicated demoScenes, subDemos (document_config, output_preview, template_upload), and navigation handler",
        "NEW: DemoSimulator module — IIFE for injecting mock DOM elements during live demos (progress dashboard, simulated results, SOW preview, batch results, graph drag animation)",
        "FIX: All 11 overview demoScenes rewritten with diverse targets matching narration content — eliminated 'same-target syndrome' where all scenes spotlighted the same element",
        "FIX: 20+ sub-demos updated with correct preActions (DemoSimulator data injection, module API calls), diverse scene targets, and proper navigate properties",
        "FIX: advanced-settings-panel ID corrected to advanced-panel throughout guide-system.js (global replace)",
        "FIX: DemoSimulator.cleanupAll() called in both stopDemo() and _navigateToSection() to remove injected elements"
      ]
    },
    {
      "version": "5.9.15",
      "date": "2026-02-17",
      "changes": [
        "FIX: 9 BAD sub-demos now force-show their target modals (export, triage, score breakdown, function tags, 5 portfolio) with preAction display:flex + zIndex:148000 pattern and automatic cleanup on demo stop/section switch",
        "FIX: 18 PARTIAL sub-demos updated with varied scene targets instead of all pointing at same trigger button — forge (4), HV (5), settings (3), review (1), history (1), batch (2), help (2)",
        "FIX: Portfolio sub-demos use Portfolio.open() API instead of nav button click — targets now spotlight actual content (.pf-header, #pf-stats-mini, #pf-batch-grid, #pf-singles-grid, #pf-activity-feed)",
        "FIX: Function tags sub-demo uses TWR.FunctionTags.showModal() with cleanup that removes dynamically-created modal",
        "FIX: Help/keyboard sub-demos force-show #modal-help with cleanup pattern; accessibility sub-demo opens Settings display tab",
        "FIX: Forge history_overview target #sf-sidebar corrected to .sf-sidebar (class selector — element has no ID)",
        "FIX: Added 5 cleanup functions (_exportCleanup, _triageCleanup, _scoreCleanup, _funcTagsCleanup, _helpCleanup) called in both stopDemo() and _navigateToSection()",
        "VERIFY: All 27 fixed sub-demo targets confirmed existing in live DOM via browser MCP testing"
      ]
    },
    {
      "version": "5.9.14",
      "date": "2026-02-17",
      "changes": [
        "FIX: Exposed MetricsAnalytics.switchTab() in public API — programmatic .click() on IIFE-scoped tab buttons didn't trigger event delegation, breaking all 5 metrics sub-demo preActions",
        "FIX: _navigateToSection('metrics') now uses MetricsAnalytics.open() instead of generic showModal() — ensures data is loaded before tab switching",
        "FIX: All metrics sub-demo preActions now call MetricsAnalytics.switchTab() directly instead of .click() on tab buttons",
        "FIX: Corrected MetricsAnalytics references from TWR.MetricsAnalytics to window.MetricsAnalytics (IIFE is on window, not TWR namespace)",
        "FIX: SOW generator sub-demo preAction used non-existent #sf-btn-sow — now calls SowGenerator.open() API directly",
        "FIX: Fix Assistant sub-demo target #btn-fix-assistant corrected to #btn-open-fix-assistant (actual element ID in HTML)",
        "FIX: Added missing id='format-csv-card' and id='format-json-card' to export format cards in index.html for sub-demo spotlight targeting",
        "FIX: Fix Assistant sub-demo now shows the actual FA modal (#fav2-modal) with scenes targeting the change preview, action buttons, and progress bar — previously all 4 scenes pointed at the small launcher button",
        "FIX: FA modal shown via display:flex for demo with automatic cleanup on stopDemo() and section navigation"
      ]
    },
    {
      "version": "5.9.13",
      "date": "2026-02-17",
      "changes": [
        "FIX: Comprehensive sub-demo target audit — rewrote ALL 93 sub-demo scene targets across 11 sections to spotlight the correct, visible UI elements instead of generic nav buttons or hidden modal elements",
        "FIX: Metrics sub-demos — 4 preActions were clicking #ma-tab-btn-overview instead of their correct tab buttons (#ma-tab-btn-quality, #ma-tab-btn-statements, #ma-tab-btn-roles, #ma-tab-btn-documents). All scene targets now point to tab-specific chart and content elements",
        "FIX: Batch sub-demos — all scenes targeted #btn-batch-load. Now target #batch-dropzone, #folder-scan-path, #batch-file-list, #batch-progress, #batch-results for each workflow phase",
        "FIX: Compare sub-demos — all scenes targeted #nav-compare. Now target #dc-doc-select, #dc-old-scan, #dc-new-scan, #dc-stats, #dc-minimap, #dc-btn-compare",
        "FIX: History sub-demos — all scenes targeted #nav-history. Now target #scan-history-body, #history-search, #modal-scan-history",
        "FIX: Settings sub-demos — 9 original sub-demos all targeted #btn-settings with no tab navigation. Each now clicks its specific settings tab (general, review, profiles, network, display, sharing, updates, troubleshoot, data-management) and targets tab-specific elements",
        "FIX: Roles sub-demos — adjudication_exports/sharing targeted hidden dropdown items. Now target visible toolbar buttons (#adj-export-dropdown, #adj-share-dropdown). dictionary_imports targets #btn-import-dictionary and #dict-content-area. edit_role targets visible dictionary elements",
        "FIX: dictionary_exports #hierarchy-export-modal target changed to #btn-export-hierarchy (button is visible, modal is not)",
        "FIX: checker_categories #btn-toggle-advanced target changed to [data-tab='review'] (the toggle is in the review sidebar, not settings)",
        "FIX: profile_management #btn-preset-reqs target changed to #btn-profile-reset-default (preset buttons are in review sidebar, not settings)"
      ]
    },
    {
      "version": "5.9.12",
      "date": "2026-02-17",
      "changes": [
        "FIX: Demo picker sub-demo cards were invisible — missing CSS rules for .panel-help-content.hidden and .panel-footer.hidden caused help content to remain visible and push picker cards below the scroll viewport",
        "ROOT CAUSE: The JS code used classList.add('hidden') on help content and footer, but no CSS rule existed to set display:none on those elements when the hidden class was applied — only component-specific selectors like .demo-picker.hidden existed",
        "FIX: Sub-demos that use navigate property (e.g., graph_view) no longer reset back to Overview tab — _showDemoStep now skips redundant _navigateToSection when already in the correct section during sub-demo playback"
      ]
    },
    {
      "version": "5.9.11",
      "date": "2026-02-17",
      "changes": [
        "FIX: Rewrote all 35 new sub-demo scene targets to use specific UI element selectors instead of generic section containers",
        "FIX: Export sub-demos (DOCX, PDF, Excel/CSV, Filters) now spotlight actual export modal elements — format cards, filter chips, preview bar, and export button",
        "FIX: Export preActions now open the export modal automatically so scenes spotlight elements within it",
        "FIX: Adjudication sub-demos target #btn-export-adjudication, .adj-export-item[data-action=csv/html/pdf/import], #btn-share-adjudication, #btn-auto-adjudicate, #btn-undo-adj, #adj-select-all",
        "FIX: Dictionary sub-demos target #btn-import-dictionary, .dict-import-option, #btn-export-dictionary, #btn-download-template, #btn-export-hierarchy",
        "FIX: Function Tags targets #btn-function-tags, #btn-role-reports; Graph targets #graph-max-nodes, #graph-layout, #graph-labels, #graph-weight-filter, #graph-info-panel",
        "FIX: Role Editing targets #edit-role-modal, #edit-role-category, #edit-role-tag-select, #btn-save-role",
        "FIX: Forge sub-modals target #sf-btn-add, #sf-btn-renumber, #sf-btn-merge, #sf-btn-split, #modal-sf-role-mapping; SOW targets #modal-sow-generator, #sow-title, #sow-btn-generate",
        "FIX: HV Export targets #hv-btn-export-csv, #hv-btn-export-json, #hv-btn-export-html, #hv-btn-export-highlighted",
        "FIX: Compare Switcher targets #dc-doc-select, #dc-old-scan, #dc-new-scan, #dc-btn-compare",
        "FIX: Metrics targets #severity-chart-card, #category-chart-card, #ma-tab-btn-quality/statements/roles/documents",
        "FIX: Settings targets #btn-toggle-advanced, #btn-diag-refresh/health-check/export-json/export-txt/email, #btn-load-backups, #btn-factory-reset, #btn-save-profile",
        "FIX: Scan History targets #modal-scan-history; Folder Scan targets #folder-scan-path, #btn-folder-discover, #btn-folder-scan, #folder-scan-dashboard",
        "FIX: Triage targets #modal-triage, #btn-triage-keep/prev/next; Score targets #modal-score-breakdown, #score-breakdown-value/grade"
      ]
    },
    {
      "version": "5.9.10",
      "date": "2026-02-17",
      "changes": [
        "FEATURE: Total sub-demo coverage expansion — 35 new sub-demos with ~159 new scenes for complete end-to-end feature coverage",
        "FEATURE: Document Review deep-dives — Review Presets, Triage Mode, Family Patterns, Score Breakdown, Selection Tools, DOCX/PDF/Excel/CSV export formats, Export Filters",
        "FEATURE: Roles Studio deep-dives — Adjudication Exports, Sharing & Collaboration, Auto-Classify & Undo, Dictionary Imports (CSV/SIPOC/Package), Dictionary Exports (CSV/Template/Hierarchy), Function Tags & Reports, Graph Controls, Role Editing",
        "FEATURE: Additional deep-dives — Server Folder Scan, Forge Advanced Ops, SOW Generator, HV Export Formats, Doc Compare Switcher, Chart Drill-Down, Metrics Insights, Checker Categories, Profile Management, Diagnostics, Backup & Recovery, Scan Actions, Statement History Link, Batch Groups, Portfolio Actions",
        "FEATURE: Help system deep-dives — Keyboard Shortcuts, Help Navigation, Accessibility Features",
        "ENHANCED: All new preActions wrapped in try/catch for defensive error handling",
        "ARCH: Combined total: 79 overview + ~471 sub-demo scenes = ~550 total demo scenes across 93 sub-demos",
        "FIX: Fixed bare 'logger' references in scan_history.py — 12+ instances changed to _log() helper"
      ]
    },
    {
      "version": "5.9.9",
      "date": "2026-02-17",
      "changes": [
        "FEATURE: Deep-dive sub-demo system — 58 sub-demos with ~312 narrated scenes covering every sub-function",
        "FEATURE: Demo picker UI — when clicking Watch Demo, users see a picker with overview card + sub-demo grid",
        "FEATURE: Sub-demos for all 11 modules: Dashboard (3), Review (6), Batch (4), Roles (8), Forge (6), HV (7), Compare (4), Metrics (5), History (3), Settings (9), Portfolio (3)",
        "FEATURE: Each sub-demo has preAction that navigates to the correct tab before scenes play",
        "FEATURE: Demo bar shows breadcrumb title during sub-demo playback (e.g. 'Roles Studio › RACI Matrix')",
        "FEATURE: Estimated duration display on each sub-demo card in the picker",
        "FIX: Replaced offsetParent visibility check with getBoundingClientRect().width for elements inside fixed modals",
        "ARCH: guide-system.js v2.3.0 — hierarchical sub-demo architecture with startSubDemo(), _showDemoPicker(), _hideDemoPicker()",
        "ARCH: Combined total: 79 overview scenes + 312 sub-demo scenes = ~391 total demo scenes"
      ]
    },
    {
      "version": "5.9.8",
      "date": "2026-02-17",
      "changes": [
        "ENHANCED: Super-detailed demo scenes — expanded from 31 to 79 narrated walkthrough scenes across all 11 modules",
        "ENHANCED: Full demo now runs ~10 minutes with detailed narration covering every feature and sub-feature in AEGIS",
        "ENHANCED: Dashboard demo expanded from 4 to 7 scenes — covers metrics, tiles, getting started, recent docs",
        "ENHANCED: Document Review demo expanded from 6 to 10 scenes — covers batch, checkers, Fix Assistant, export suite",
        "ENHANCED: Batch Scan demo expanded from 2 to 6 scenes — covers file picker, folder scan, preview, progress, fault tolerance",
        "ENHANCED: Roles Studio demo expanded from 5 to 10 scenes — covers all 7 tabs, adjudication export, sharing",
        "ENHANCED: Statement Forge demo expanded from 4 to 8 scenes — covers extraction pipeline, filtering, bulk ops, history",
        "ENHANCED: Hyperlink Validator demo expanded from 3 to 7 scenes — covers modes, Deep Validate, exclusions, domain filter",
        "ENHANCED: Document Compare demo expanded from 1 to 6 scenes — covers auto-compare, diff highlighting, statement tracking",
        "ENHANCED: Metrics demo expanded from 3 to 7 scenes — covers all 4 tabs, severity and category analysis",
        "ENHANCED: Scan History demo expanded from 1 to 5 scenes — covers reload, progression tracking, data management",
        "ENHANCED: Settings demo expanded from 2 to 8 scenes — covers all 9 tabs individually",
        "ENHANCED: Portfolio demo expanded from 1 to 5 scenes — covers sorting, filtering, grade visualization",
        "ARCH: guide-system.js v2.2.0 — comprehensive narrated walkthrough system"
      ]
    },
    {
      "version": "5.9.7",
      "date": "2026-02-17",
      "changes": [
        "NEW FEATURE: Voice Narration System for Live Demo player — guide-system.js v2.1.0",
        "NEW: Audio provider chain — Pre-generated MP3 → Web Speech API → Silent timer fallback",
        "NEW: Narration toggle button with AEGIS gold pulse indicator in demo bar",
        "NEW: Volume slider control with persistent localStorage preferences",
        "NEW: Chrome 15-second TTS bug workaround — automatic sentence chunking for Web Speech API",
        "NEW: Voice selection system — auto-detects best available TTS voice (Google US > Samantha > system)",
        "NEW: Pre-generated audio manifest system at /static/audio/demo/manifest.json",
        "NEW: Server-side TTS generation endpoints — /api/demo/audio/status, /api/demo/audio/generate, /api/demo/audio/voices",
        "NEW: demo_audio_generator.py — supports edge-tts (neural) and pyttsx3 (offline) providers",
        "NEW: Audio playback speed syncs with demo speed selector (0.5x to 2x)",
        "NEW: Narration pauses/resumes with demo player pause/resume",
        "ARCH: Progressive enhancement — demo works identically with or without audio enabled",
        "ARCH: Audio narration layer is completely optional — zero new required dependencies"
      ]
    },
    {
      "version": "5.9.6",
      "date": "2026-02-17",
      "changes": [
        "VISUAL: Complete warm palette deep pass — all CSS variable fallback values updated from cool gray to warm stone/cream tones across 15+ CSS files",
        "VISUAL: Hyperlink Validator light mode progress bar overhauled — gold gradient replaces blue/purple, warm particles and orbs",
        "VISUAL: Roles Studio export dialog, smart search, function tree, and report builder all updated to gold accent palette",
        "VISUAL: Data Explorer light mode backgrounds warmed — cards, stats, tables, nav buttons all use cream/stone palette",
        "VISUAL: Fix Assistant fallback values updated — borders, backgrounds, tertiary surfaces all use warm tones",
        "VISUAL: Charts, components, and layout fallback values synchronized to warm palette",
        "VISUAL: 40+ CSS variable fallback values corrected from cool (#f8fafc, #e2e8f0, #e5e7eb) to warm (#f0ebe3, #cfc7b8, #e8e2d8)",
        "PRESERVE: Semantic blue preserved for RACI types, directive colors, severity-info badges, redirect status, per-tool icons, and dark mode styles",
        "FIX: Body data-theme attribute now synced on theme toggle — fixes light mode CSS variable inheritance (Lesson 46)",
        "FIX: Help docs print button uses hidden iframe instead of window.open() — eliminates popup blocker errors (Lesson 47)",
        "FIX: FOUC inline style clearing expanded to cover both html and body elements on light mode initialization"
      ]
    },
    {
      "version": "5.9.5",
      "date": "2026-02-17",
      "changes": [
        "VISUAL: Cinematic inline SVG diagrams replace ASCII art in Help docs — NLP Pipeline (7 stages), System Architecture (3-tier), Document Extraction (priority chain)",
        "VISUAL: Enterprise Grade callout boxes changed from green to AEGIS gold/bronze branding across all 8 instances",
        "VISUAL: Light mode warm palette overhaul — cream/stone/gold tones replace harsh whites across base, landing page, modals, settings",
        "VISUAL: Light mode accent colors changed from blue to gold across Roles Studio, settings, hyperlink validator, metrics, export suite",
        "VISUAL: Landing page particles increased to 140 count with deep gold coloring and warm gradient background",
        "FIX: Windows CSV exports now include UTF-8 BOM and CRLF line endings for Excel compatibility (app.js, roles-tabs-fix.js, hyperlink-validator-state.js, doc-compare.js, roles-export-fix.js)",
        "FIX: Settings modal enlarged to 860px with visible gold-accented scrollbar for better navigation",
        "FIX: Sharing tab Connection Status now shows actual result instead of stuck 'Checking...' state",
        "FIX: Email to Support auto-downloads diagnostic file and includes inline health check data in email body",
        "FIX: Dashboard counter accuracy — dynamic checker count replaces hardcoded values",
        "UPGRADE: Help documentation version updated to 5.9.5 with refreshed content across all sections"
      ]
    },
    {
      "version": "5.9.4",
      "date": "2026-02-17",
      "changes": [
        "FLAGSHIP: Complete export suite rebuild — 5 format options (DOCX, PDF Report, Excel, CSV, JSON) with pre-export filtering",
        "NEW: PDF Report export — server-side reportlab generation with AEGIS branded cover page, executive summary, severity/category breakdown, full issue details",
        "NEW: Pre-export filter panel — filter by severity and category with chip-based multi-select and live preview count",
        "NEW: Excel (XLSX) format card added to export modal — detailed multi-sheet workbook with charts and metadata",
        "NEW: Export progress overlay — glassmorphism card with animated progress bar and format-specific messaging",
        "NEW: review_report.py module — ReviewReportGenerator class with cover page, severity distribution, category breakdown, issue detail tables",
        "NEW: export-suite.css — dedicated stylesheet for export modal enhancements, filter chips, progress overlay, dark mode support",
        "NEW: POST /api/export/pdf endpoint — server-side PDF generation with filter support and AEGIS branding",
        "FIX: PDF source files now default to PDF Report format instead of disabled DOCX",
        "FIX: Export filters (severity + category) applied client-side before sending to any backend endpoint",
        "FIX: JSON export now includes filters_applied metadata when filters are active",
        "FIX: Fix Assistant v2 field mapping — normalized original_text/replacement_text with safe fallbacks for both v2 and legacy formats",
        "FIX: Fix Assistant Done event now properly updates export modal launcher stats (selected count, fixable count)",
        "FIX: Fix Assistant close/done now re-shows export modal (was lost because FA's showModal() closes other modals)",
        "FIX: Rejected fixes from Fix Assistant now sent as comment_only_issues for DOCX margin comments",
        "FIX: Fix Assistant state persistence — re-opening export modal restores previous review stats",
        "FIX: handleFinishReview() now correctly populates State.selectedFixes using actual fix indices from decisions Map"
      ]
    },
    {
      "version": "5.9.3",
      "date": "2026-02-17",
      "changes": [
        "REDESIGN: Settings modal completely rebuilt — 9 organized tabs with card-based layout, toggle switches, glassmorphism styling",
        "NEW: Dedicated Network & Auth settings tab — SSL/proxy, client certificates, hyperlink validation mode consolidated",
        "NEW: Settings use CSS class-based tab switching (.active-tab) instead of inline display styles (Lesson 2)",
        "NEW: Data Management tab compact redesign with danger zone for factory reset",
        "NEW: Diagnostics tab shows error/warning/request stat cards with health check and email-to-support button",
        "NEW: Role template JSON import — Import Decisions now accepts role_dictionary_import format from exported HTML templates",
        "FIX: Function category grandchild badges show parent code abbreviation (e.g., PS-FFS shows 'PS' not 'PF')",
        "FIX: Review page category filters populated correctly — legacy dead containers replaced with unified dropdown route",
        "FIX: FileRouter now covers routes/, hyperlink_validator/, and nlp/ flat-file prefixes for updates",
        "FIX: Role source viewer category change and tag removal now show error toasts on failure",
        "FIX: Settings delete buttons show correct short labels in finally blocks matching new compact UI",
        "FIX: Installer scripts updated to v5.9.3 — uses packaging/requirements-windows.txt, verifies auth packages, OneDrive path note added",
        "FIX: Offline installer version bumped to v5.9.3 with auth package verification"
      ]
    },
    {
      "version": "5.9.2",
      "date": "2026-02-17",
      "changes": [
        "FIX: Scan history 'Load this scan' no longer shows [object Object] — structured error objects now properly extracted (Lesson 13)",
        "FIX: Statement source viewer edit mode no longer gets stuck after save failure — editMode resets on all exit paths",
        "FIX: SIPOC role_source column migration uses PRAGMA table_info() check instead of catching ALTER TABLE errors",
        "FIX: Fix Impact Analysis text no longer truncated — removed overflow:hidden, max-height caps, and nowrap/ellipsis from category names",
        "FIX: Scan re-upload now works after first scan completes — resetUploadState() called on all completion/failure/cancel paths",
        "FIX: Statement Forge auto-extraction now shows toast feedback: count of statements found or warning if module unavailable",
        "FIX: Metrics & Analytics shows descriptive empty state messages instead of blank panel when data is missing or API fails",
        "FIX: DOCX export now falls back to lxml XML-based comments when COM/Word unavailable, with detailed error propagation",
        "FIX: Export error messages now include specific engine errors instead of generic 'Failed to create marked document'",
        "FIX: Frontend export handler safely parses non-JSON error responses and validates blob size before download"
      ]
    },
    {
      "version": "5.9.1",
      "date": "2026-02-17",
      "changes": [
        "FIX: Corporate network URLs (*.northgrum.com, *.myngc.com) no longer marked BROKEN — reclassified as AUTH_REQUIRED with 'requires VPN' message",
        "FIX: ConnectionError classification improved — timeout-like errors now correctly categorized as TIMEOUT instead of BROKEN",
        "ENHANCEMENT: categorize_domain() now recognizes NGC corporate domains (myngc.com, northgrum.com, sharepoint.us) as 'internal'",
        "ENHANCEMENT: HTML export report and donut chart now include Auth Required as a separate status category",
        "ENHANCEMENT: UI warning banner when Windows Auth mode is selected but requests-negotiate-sspi not installed",
        "PACKAGING: Added requests-negotiate-sspi, requests-ntlm, pyspnego, pywin32 wheels for Windows SSO auth"
      ]
    },
    {
      "version": "5.9.0",
      "date": "2026-02-17",
      "changes": [
        "FIX (CRITICAL): SemanticAnalyzer duplicate detection was silently broken — wrapper called dict methods on List[DuplicateGroup], now iterates dataclass objects correctly",
        "FIX: Added response.ok checks to 12 unprotected fetch() calls across 7 JS files — prevents silent failures on HTTP errors",
        "FIX: Null guards added to 3 querySelector calls in role-source-viewer.js that could crash on missing DOM elements",
        "FIX: Dark mode contrast for .batch-score.grade-c — dark text on gold was unreadable, now white",
        "ENHANCEMENT: Cross-checker dedup normalization expanded from 8 to 27 entries — covers passive voice, grammar, spelling, references, prose style, and acronym variants",
        "ENHANCEMENT: Scoring algorithm now applies category concentration discount — 10 issues of the same type count less than 10 diverse issues (diminishing returns via logarithmic scaling)",
        "ACCESSIBILITY: Dark mode consistency for progress-3d-text and progress-3d-info indicators"
      ]
    },
    {
      "version": "5.8.2",
      "date": "2026-02-17",
      "changes": [
        "FIX: ReportLab PDF crash on role names with HTML-like text — added XML entity sanitization",
        "FIX: CSRF header typo in mass-statement-review.js (X-CSRFToken → X-CSRF-Token)",
        "FIX: Help docs referenced non-existent /api/metrics/analytics endpoint",
        "ACCESSIBILITY: prefers-reduced-motion added to 10 additional CSS feature files (19 total)",
        "ENHANCEMENT: SVO extraction now uses spaCy dependency parsing for better requirement analysis",
        "AUDIT: Full production hardening — backend routes, security, frontend, library integration"
      ]
    },
    {
      "version": "5.8.1",
      "date": "2026-02-17",
      "changes": [
        "FEATURE: Document Compare now includes a master document selector dropdown — switch between any comparable document without closing the modal",
        "FIX: Document Compare no longer locks you into the pre-selected document — all 15+ documents with multiple scans are accessible from the header dropdown",
        "UI: New document selector styled for both light and dark mode, auto-selects newest scan pair on document switch"
      ]
    },
    {
      "version": "5.8.0",
      "date": "2026-02-16",
      "changes": [
        "FEATURE: Cross-checker deduplication now normalizes categories — issues flagged by multiple checkers under different category names (e.g., 'Requirement Traceability' + 'INCOSE Compliance') are properly deduplicated",
        "FEATURE: Document-type-aware suppression — requirements documents auto-suppress noise issues (noun phrase density, readability scores for domain vocabulary, per-paragraph INCOSE repeats)",
        "NEW CHECKER: Directive Verb Consistency — flags documents that mix shall/should/must/will/require without a definitions section explaining the convention",
        "NEW CHECKER: Unresolved Cross-Reference — flags dangling references like 'the approved procurement schedule' or 'applicable safety requirements' that don't cite specific document IDs",
        "FIX: Spelling dictionary expanded with aerospace/PM terms — 'deliverables', 'baselines', 'procurement', 'workaround', NASA acronyms (CDR, PDR, SRR, FMEA, etc.)",
        "Total checkers: 111 (was 109)"
      ]
    },
    {
      "version": "5.7.2",
      "date": "2026-02-16",
      "changes": [
        "FIX: detectCurrentSection() no longer falsely matches Statement Forge — removed el.style.display check, uses only .active class like all other modals",
        "FIX: Landing page detection now uses body.classList.contains('landing-active') instead of offsetParent (which fails on position:fixed elements)",
        "FIX: Help panel section nav now dismisses landing page before opening modals — modals no longer hidden behind landing overlay",
        "FIX: Added batch and portfolio to detectCurrentSection() checks array (were missing)",
        "REFACTOR: Moved landing page dismissal to top of _navigateToSection() for all non-landing sections"
      ]
    },
    {
      "version": "5.7.1",
      "date": "2026-02-16",
      "changes": [
        "FIX: Folder scan background thread no longer stalls — added per-file timeout (5 min), chunk-level timeout, and try/except around future.result()",
        "FIX: Elapsed time now computed LIVE in progress endpoint from started_at — no longer freezes when a file takes a long time",
        "REFACTOR: Extracted _update_scan_state_with_result() helper — cleaner code, eliminates deep indentation in background thread",
        "FIX: Current file now shows chunk contents (up to 3 filenames) while processing, not just last-completed file",
        "FIX: Chunk timeout gracefully marks remaining files as errors and continues to next chunk instead of crashing",
        "FIX: Spotlight CSS overlay background set to transparent — eliminates double-dimming over SVG mask cutout",
        "FIX: Tooltip positionTooltip() rewrite — centers on target, prefers target-edge alignment, flips vertically, final viewport safety clamp"
      ]
    },
    {
      "version": "5.7.0",
      "date": "2026-02-16",
      "changes": [
        "PERF: Flask debug mode now runs with threaded=True — server no longer blocks during long-running folder scans",
        "FEAT: Async folder scan with real-time progress polling — POST /folder-scan-start returns scan_id immediately, GET /folder-scan-progress/<scan_id> provides per-file updates",
        "UI: Folder scan progress dashboard — live per-file status rows, progress bar, elapsed/remaining time, speed, chunk tracking (reuses bpd-* batch dashboard CSS)",
        "FIX: Acronym dedup key simplified to (paragraph_index, category, flagged_text) — removes rule_id and message so cross-checker duplicates are properly caught (~20-30% fewer duplicate issues)",
        "FIX: Removed broken option_mapping 'check_enhanced_acronyms' → 'enhanced_acronyms' (non-existent checker key)",
        "FIX: Hardcoded Mac paths replaced with pathlib-based relative paths in run_enhancement_analysis.py, defense_role_analysis.py, defense_role_analysis_expanded.py",
        "NEW: restart_aegis.bat for Windows — stops port 5050 process and restarts with debug mode"
      ]
    },
    {
      "version": "5.6.1",
      "date": "2026-02-16",
      "changes": [
        "FIX: ReviewIssue .get() crash in core.py — non-NLP checkers produce dataclass objects but scoring/dedup/ID-assignment used dict .get(). Added normalization step in review_document() postprocessing",
        "FIX: Folder scan _review_single() also normalizes issues to dicts for aggregation and JSON serialization",
        "FIX: All downstream code (_calculate_score, _deduplicate_issues, _assign_issue_ids, _count_by_severity, _count_by_category, enhance_issue_context) now receives dicts"
      ]
    },
    {
      "version": "5.6.0",
      "date": "2026-02-16",
      "changes": [
        "GUIDE: Complete rewrite of guide-system.js v2.0.0 — real content for all 11 sections (landing, review, batch, roles, forge, validator, compare, metrics, history, settings, portfolio)",
        "GUIDE: Animated Demo Player system — auto-playing live walkthroughs with typewriter narration, spotlight overlay, and step-by-step scene navigation",
        "GUIDE: Demo player controls — play/pause, previous/next, speed selector (0.5x–2x), progress bar with step counter, LIVE DEMO badge",
        "GUIDE: SVG mask spotlight system for tour and demo element highlighting with smooth transitions",
        "GUIDE: Section navigation grid in help panel — click any section to jump directly to its content",
        "GUIDE: Contextual help beacon with pulse animation, auto-detects current section",
        "GUIDE: Full Tour and Full Demo modes — walk through every section sequentially with auto-navigation between modals",
        "GUIDE: Each section includes whatIsThis descriptions, keyActions with icons, proTips, tourSteps targeting real DOM selectors, and demoScenes",
        "UI: Settings toggle to globally enable/disable guide system (Settings > General > Show help guide & tours)",
        "UI: Guide enabled state persisted via localStorage, synced with settings checkbox on page load",
        "CSS: Guide system z-index hierarchy — beacon=150000, demoBar=149800, panel=149500, spotlight=149000 (above all app modals)",
        "CSS: Demo bar with glass-morphism dark UI, gradient progress bar, animated LIVE DEMO badge",
        "CSS: Section navigation grid with hover effects and active state indicators"
      ]
    },
    {
      "version": "5.5.0",
      "date": "2026-02-16",
      "changes": [
        "BATCH: Server-side recursive folder scanning — scan entire document repositories with nested subdirectories",
        "BATCH: New /api/review/folder-scan endpoint with chunked ThreadPoolExecutor processing and per-chunk gc.collect()",
        "BATCH: New /api/review/folder-discover endpoint for dry-run preview before committing to full scan",
        "BATCH: Smart file discovery — skips hidden dirs, empty files, files >100MB, common non-doc directories",
        "BATCH: Folder scan UI in batch upload modal — enter a server path, preview files, then scan all",
        "BATCH: Increased batch limits from 10/100MB to 50/500MB per upload batch for large repositories",
        "BATCH: Chunked processing (5 files per chunk, 3 concurrent) with memory cleanup between chunks",
        "BATCH: Comprehensive results aggregation — grade distribution, severity breakdown, role discovery across all docs",
        "BATCH: Graceful error handling — individual file errors don't stop the whole scan",
        "TEST: Local test script (test_scan_local.py) for single file × 5 and batch folder verification"
      ]
    },
    {
      "version": "5.4.0",
      "date": "2026-02-16",
      "changes": [
        "PERFORMANCE: Eliminated dark mode flash of light content (FOUC) — inline CSS variables + data-theme attribute set before any stylesheet loads",
        "PERFORMANCE: Deferred 30+ feature module scripts with defer attribute — initial paint 40-60% faster",
        "PERFORMANCE: Async CSS loading for 13 feature stylesheets using media='print' onload pattern — only critical CSS blocks render",
        "PERFORMANCE: Batch scan processing now multi-threaded via ThreadPoolExecutor (up to 3 concurrent documents)",
        "FIX: Resolved terminology_consistency naming conflict — v3.3.0 and v5.3.0 checkers now have distinct keys (terminology_consistency vs wordnet_terminology)",
        "NLP: 11 new v5.3.0 spaCy Ecosystem checkers fully integrated with UI toggles",
        "NLP: 6 new v5.2.0 Advanced NLP Enhancement Suite checkers with graceful fallback",
        "NLP: 8 new checker files: negation, text_metrics, terminology_consistency, subjectivity, vocabulary, yake, similarity, advanced_analysis",
        "NLP: New libraries integrated: negspacy, textdescriptives, spacy-wordnet, spacytextblob, lexical_diversity, yake",
        "CHECKERS: Total checker count now 100+ (98 UI-controlled + 7 always-on)",
        "INSTALL: Windows x64 wheels for all new NLP dependencies included for air-gapped deployment",
        "UI: v5.3.0 spaCy Deep Analysis section in Settings with 4 subcategories and 11 checkboxes"
      ]
    },
    {
      "version": "5.3.0",
      "date": "2026-02-16",
      "changes": [
        "NLP: spaCy Ecosystem & Deep Analysis Suite — 8 new checker files with 11 checker keys",
        "NLP: Negation detection using negspacy + spaCy dependency tree for scope analysis",
        "NLP: Text quality metrics via textdescriptives pipeline (readability, coherence, POS, quality)",
        "NLP: Sentence complexity scoring using dependency tree depth and clause count",
        "NLP: Terminology consistency via spacy-wordnet synonym detection + curated aerospace groups",
        "NLP: Subjectivity and tone detection using spacytextblob sentiment analysis",
        "NLP: Lexical diversity metrics (MTLD, HD-D, TTR) for boilerplate and copy-paste detection",
        "NLP: YAKE statistical keyword extraction with domain coverage and distribution analysis",
        "NLP: Requirement similarity using sentence-transformers with TF-IDF fallback",
        "NLP: Cross-sentence coherence, defined-before-used enforcement, quantifier precision checking",
        "INSTALL: 6 new dependencies: negspacy, textdescriptives, spacy-wordnet, spacytextblob, lexical_diversity, yake"
      ]
    },
    {
      "version": "5.2.0",
      "date": "2026-02-16",
      "changes": [
        "NLP: Advanced NLP Enhancement Suite — 6 optional checkers with graceful fallback",
        "NLP: Coreference resolution using coreferee for ambiguous pronoun detection",
        "NLP: Advanced prose quality checking using proselint (clichés, hedging, redundancy)",
        "NLP: Document verbosity and summarization analysis using sumy",
        "NLP: Keyword extraction and complexity analysis using textacy (SGRANK algorithm)",
        "NLP: INCOSE requirements compliance checking",
        "NLP: Semantic role labeling for requirement structure analysis",
        "FIX: Excel/CSV export BytesIO bug — make_response pattern for binary content",
        "FIX: UTF-8 BOM added to CSV exports for Windows Excel compatibility",
        "FIX: HTML report charset meta tag for proper encoding display"
      ]
    },
    {
      "version": "5.1.0",
      "date": "2026-02-16",
      "changes": [
        "SECURITY: Added @require_csrf to 9 unprotected POST routes (SOW, presets, analyzers, diagnostics)",
        "SECURITY: Fixed CSRF token handling in 18+ JavaScript functions using fresh token pattern",
        "SECURITY: Added _getFreshCsrf() helper for data management operations",
        "ARCHITECTURE: Fixed spaCy singleton pattern for shared model instances (performance improvement)",
        "QUALITY: Improved issue deduplication key (50→80 chars with rule_id)",
        "QUALITY: Added 18 aerospace adjectival participles to passive voice whitelist",
        "QUALITY: All 83 checkers verified working with 14 new UI toggles added",
        "ACCESSIBILITY: Added 134 aria-label attributes across all UI elements",
        "ACCESSIBILITY: Added role='dialog' and aria-modal to 28 modals",
        "ACCESSIBILITY: Added role='tablist/tab/tabpanel' to all tab navigation systems",
        "ACCESSIBILITY: Added aria-hidden to 116 decorative icons",
        "ACCESSIBILITY: WCAG 2.1 Level A compliance improvements",
        "PRINT: New print.css stylesheet for optimized document printing",
        "PRINT: Hides non-printable elements (sidebar, toolbar, toasts)",
        "PRINT: Optimizes tables, typography, and page breaks for print",
        "PRINT: Includes URL display after links for reference",
        "UI: Fixed folder browse button - now opens native OS folder picker via backend API",
        "UI: Fixed dropdown z-index conflict with toast notifications",
        "UI: Added dark mode overrides for modal radio card components",
        "UI: Fixed popup blocker vulnerability in statement history exports",
        "DATA: Fixed all 5 data management handlers to use fresh CSRF tokens",
        "DATA: Clear scan history, statements, roles, learning, and factory reset all fixed",
        "INSTALL: Added 195 Windows x64 wheel files for air-gapped offline installation",
        "INSTALL: Includes numpy, pandas, scipy, scikit-learn, spaCy, docling, and more",
        "INSTALL: torch (139MB) available via GitHub Release download",
        "INSTALL: Added download_win_wheels.py script for connected Windows environments",
        "INSTALL: Updated install_offline.bat to support both wheel directories",
        "FIX: Landing page showing 0 roles (fallback from role_dictionary to roles table)",
        "FIX: Source document not loading when clicking roles in viewer",
        "FIX: Updater spinning forever (15s timeout with abort controller)",
        "FIX: Diagnostic email export (GET→POST with fresh CSRF)",
        "FIX: Version display stale after update (import-time caching)"
      ]
    },
    {
      "version": "5.0.0",
      "date": "2026-02-15",
      "changes": [
        "ARCHITECTURE: Review jobs now run in separate PROCESS (multiprocessing.Process) instead of threading.Thread",
        "ARCHITECTURE: Flask server stays fully responsive during large document analysis (separate GIL)",
        "ARCHITECTURE: Worker process crash isolation — if review crashes, Flask keeps running",
        "ARCHITECTURE: Per-document timeout (600s default) with graceful process termination",
        "ARCHITECTURE: Progress updates via multiprocessing.Queue with monitor thread bridge pattern",
        "ARCHITECTURE: Results written to temp JSON file (handles large documents without queue limits)",
        "ARCHITECTURE: Legacy threading fallback if multiprocessing unavailable",
        "FIX: Role extraction 'Validation' false positive — single-word variants no longer verify compound roles",
        "FIX: Removed 'nasa' and 'government' from KNOWN_ROLES (moved to ORGANIZATION_ENTITIES filter)",
        "FIX: Removed duplicate role entries (contracting officer, contractor, technical authority, government)",
        "FIX: Discovery mode now filters organization entities, low-confidence roles, and stopword roles",
        "FIX: PDF multi-column layout detection with extraction quality warning",
        "NEW: ORGANIZATION_ENTITIES filter set — prevents organizations from being extracted as roles",
        "NEW: 30+ missing aerospace roles added (technical fellow, mission systems engineer, failure review board, etc.)",
        "NEW: 50+ expanded SINGLE_WORD_EXCLUSIONS preventing common English words from extraction",
        "NEW: Confidence threshold filter (< 0.4) removes low-quality role extractions",
        "NEW: Document type classification in Statement Forge export (requirements/guidance/descriptive/informational)",
        "NEW: Document classification detail text explaining directive distribution",
        "NEW: Column layout detection in PDF extraction with quality warnings",
        "IMPROVED: Role extractor v3.5.0 with 3-layer post-verification filtering",
        "IMPROVED: STRICT mode also skips organization entities",
        "IMPROVED: pymupdf4llm extraction uses write_images=False for faster processing",
        "TESTED: Full NASA SE Handbook (297 pages) — role false positives reduced from 44% to <5%"
      ]
    },
    {
      "version": "4.9.9",
      "date": "2026-02-15",
      "changes": [
        "FEATURE: Statement Source Viewer with highlight-to-select editing for inline statement creation",
        "FIX: SOW generation 500 error — missing timezone import in datetime operations (timezone.utc)",
        "FIX: Document Compare now auto-selects oldest doc on left, newest on right when opened",
        "FIX: Document Compare auto-comparison triggers immediately without manual selection",
        "FIX: API error responses now include structured format with proper message extraction",
        "FIX: Toast notifications show meaningful error text instead of '[object Object]'",
        "FIX: Template files now correctly extract error.message from structured error objects",
        "NEW: getErrorMessage() utility function for safe message extraction from error objects",
        "NEW: Statement Source Viewer integrates with Statement Forge history context",
        "NEW: Document profile settings now persist across server restarts",
        "NEW: User preferences cached in localStorage with server-side backup",
        "IMPROVED: Particle effects transparency adjusted for dark background visibility",
        "IMPROVED: Batch review rendering performance for 100+ statements",
        "IMPROVED: Session logging with correlation IDs for API response tracking",
        "IMPROVED: Windows compatibility — file permission operations (chmod) now platform-aware",
        "IMPROVED: Windows platform detection using os.name == 'nt' for Windows-specific paths",
        "IMPROVED: Cross-platform path handling with pathlib.Path throughout codebase"
      ]
    },
    {
      "version": "4.9.5",
      "date": "2026-02-15",
      "changes": [
        "FIX: Version display stuck on 4.7 — root cause was duplicate version.json files (root vs static/)",
        "FIX: Import-time version caching in config_logging.py — VERSION constant was stale after updates",
        "FIX: Cache-busting regex in core_routes.py now handles existing ?v= params and adds missing ones",
        "FIX: Stripped all hardcoded ?v= params from index.html — middleware handles cache-busting dynamically",
        "NEW: get_version() function in config_logging.py — reads version.json fresh from disk every call",
        "NEW: Client-side version fetch priority changed to /api/version first, /static/version.json as fallback",
        "IMPROVED: core_routes.py index() middleware uses regex for consistent ?v= injection on all JS/CSS",
        "IMPROVED: /api/version and /api/health endpoints now use get_version() instead of stale constant"
      ]
    },
    {
      "version": "4.9.0",
      "date": "2026-02-15",
      "changes": [
        "FIX: Landing page tiles/metrics empty on load — async init race condition in show()/init() chain",
        "FIX: Session restore path skipped init(), leaving landing page uninitialized for later navigation",
        "FIX: Made show() async with await init(); removed redundant init() call in app.js",
        "FIX: Toast z-index too low (2500) — raised to 200000 so toasts always appear above modals (z-index 10000)",
        "IMPROVED: Offline wheel packaging for air-gapped deployment (bundled .whl files for all dependencies)",
        "IMPROVED: restart_aegis.sh script for one-click server restart on macOS"
      ]
    },
    {
      "version": "4.8.0",
      "date": "2026-02-14",
      "changes": [
        "FIX: Flask blueprint import scope — data_routes.py used bare app.logger instead of current_app.logger",
        "FIX: Report download popup blocked — replaced window.open() after await with hidden iframe approach",
        "FIX: Report generation 500 errors — catch Exception instead of just ImportError in three report endpoints",
        "FIX: Generate Reports SQL queries referenced non-existent roles.document_id — now JOINs through document_roles",
        "FIX: Roles Studio Overview empty from dashboard tile — landing-page.js now calls showRolesModal() override",
        "FIX: Inline style.display conflicts with CSS !important — replaced with classList and removeProperty('display')",
        "IMPROVED: Production logging with structured error tracking and correlation IDs",
        "IMPROVED: E2E audit across all features — verified all entry points (sidebar + dashboard tiles) call same functions"
      ]
    },
    {
      "version": "4.7.0",
      "date": "2026-02-14",
      "changes": [
        "REFACTOR: Database Access Layer — replaced 99 scattered sqlite3.connect() calls across 7 files with db_connection() context manager pattern",
        "NEW: db_connection() context manager in scan_history.py — auto-commits on success, rolls back on exception, always closes, sets row_factory=sqlite3.Row and PRAGMA journal_mode=WAL",
        "NEW: ScanHistoryDB.connection() convenience method wrapping db_connection(self.db_path)",
        "NEW: HyperlinkValidatorStorage.connection() method with local db_connection context manager",
        "MIGRATED: scan_history.py — 23 calls converted to self.connection()",
        "MIGRATED: app.py — 49 calls converted to db.connection() / db_connection(path)",
        "MIGRATED: hyperlink_validator/storage.py — 17 calls converted to self.connection()",
        "MIGRATED: document_compare/routes.py — 6 calls with import fallback pattern",
        "MIGRATED: role_extractor_v3.py — 2 calls with local context manager",
        "MIGRATED: update_manager.py — 1 call via imported db_connection",
        "MIGRATED: diagnostic_export.py — 1 call with local context manager",
        "FIX: Eliminated ~60% of DB calls that lacked proper exception handling",
        "FIX: Eliminated ~65% of DB calls that risked connection leaks (no finally: conn.close())",
        "FIX: Removed decompiler artifact __import__('sqlite3').connect() pattern in app.py",
        "FIX: CSRF header typo in roles.js and role-source-viewer.js — X-CSRFToken corrected to X-CSRF-Token (3 occurrences)",
        "FIX: Scan history missing statement_count field in get_scan_history()",
        "FIX: Document compare missing compare_scan_statements method",
        "FIX: Heatmap flickering — switched from display:none to visibility:hidden for smooth transitions",
        "FIX: Graph layout buttons missing event listeners after decompiler recovery",
        "FIX: Generate reports buttons not working after decompiler recovery",
        "FIX: RACI matrix and module hover flickering caused by transition:all",
        "FIX: Role-Doc Matrix Excel export was producing CSV instead of XLSX",
        "IMPROVED: All database operations now have consistent error handling and automatic cleanup",
        "IMPROVED: WAL journal mode applied uniformly via context manager (was inconsistent before)"
      ]
    },
    {
      "version": "4.6.2",
      "date": "2026-02-13",
      "changes": [
        "FEATURE: Deep Validate — headless browser rescan now merges recovered URLs back into results, updating stats, filters, and visualizations in real time",
        "FEATURE: Domain Filter Dropdown — filter validation results by specific domain with searchable dropdown and clear button",
        "FEATURE: Clickable Stat Tiles — click any summary stat (Excellent, Broken, Blocked, etc.) to filter results to that status category",
        "NEW: Export Highlighted fix — ArrayBuffer backup ensures DOCX export works even when original file blob is unavailable",
        "NEW: Exclusion persistence to server — exclusions created from result rows are saved to the database via API, surviving sessions",
        "NEW: False positive URL validation — backend test confirmed dcma.mil, faa.gov, tenable.com, cyber.mil all recover via headless browser",
        "NEW: Status filter pills — click status badges in results to filter by that status type",
        "NEW: _updateRescanSection() helper — dynamically shows/hides Deep Validate button based on rescan-eligible URL count",
        "NEW: RESCAN_ELIGIBLE_STATUSES constant — BLOCKED, TIMEOUT, DNSFAILED, AUTH_REQUIRED, SSLERROR all eligible for deep validation",
        "FIX: Headless rescan results were never merged back into state (TODO comment at line 1668 — now fully implemented)",
        "FIX: Rescan eligibility was too narrow — only BLOCKED/TIMEOUT/DNSFAILED; now includes AUTH_REQUIRED and SSLERROR",
        "FIX: Rescan section missing from non-Excel validation flow — renderSummary() now also updates rescan section",
        "FIX: History panel compressing HV layout on wide displays — translateX(100%) insufficient on 2500px+ viewports; now uses display:none when closed",
        "FIX: Stat count accuracy — summary counts now correctly reflect merged rescan results",
        "IMPROVED: Deep Validate UI — renamed from 'Rescan Blocked' to 'Deep Validate' with scan-search icon and purple accent",
        "IMPROVED: Rescan section description updated to mention blocked, timeout, and auth-wall URLs",
        "IMPROVED: Domain filter repopulates after rescan to reflect recovered URL domains",
        "IMPROVED: Recovered URLs preserve Excel-specific fields (sheet_name, cell_address, display_text, link_source, context)"
      ]
    },
    {
      "version": "4.6.1",
      "date": "2026-02-13",
      "changes": [
        "FEATURE: Metrics & Analytics Command Center — standalone modal with 4-tab layout (Overview, Quality, Roles, Documents)",
        "NEW: Overview tab with hero stats, quality trend chart, score distribution, severity breakdown, scan activity heatmap",
        "NEW: Quality tab with score distribution bar chart, issue category radar, top issues table",
        "NEW: Roles tab with role frequency chart, deliverables vs non-deliverables comparison",
        "NEW: Documents tab with per-document score history, detail drill-down panels",
        "NEW: Scan activity heatmap with custom SVG tooltip and hover overlay",
        "NEW: Drill-down panels on hero stats and document cards for detailed breakdowns",
        "FIX: Scan cancel button not working — cancelCurrentJob was not exposed as global function",
        "FIX: Scan Progress Dashboard cancel leaves UI hung — loading overlay and progress dashboard now cleaned up on cancel",
        "FIX: Scan History/Roles Studio showing doc review background — modals now keep dashboard visible behind them",
        "FIX: Landing page tiles hiding dashboard when opening modals — stopped calling hide() for windowed module modals",
        "FIX: Nav bar module buttons not restoring dashboard background — now show landing page when not already active",
        "FIX: Heatmap hover flicker — SVG overlay rect moved after cells (was rendering behind), tooltip transition removed",
        "IMPROVED: Heatmap tooltip shows instantly (no CSS opacity transition that caused rapid show/hide flicker)",
        "IMPROVED: Scan cancel cleanup is comprehensive — destroys progress dashboard, resets loading tracker, clears job state",
        "BACKEND: GET /api/metrics/analytics — aggregated analytics data from scan history"
      ]
    },
    {
      "version": "4.6.0",
      "date": "2026-02-12",
      "changes": [
        "FEATURE: Statement Lifecycle Management — deduplication, review, and cleanup system for extracted statements",
        "FEATURE: Role-Statement Responsibility Interface — view, reassign, and remove statements per role in Roles Studio",
        "FEATURE: Statement Review Badges — tool-wide review status indicators (Pending/Reviewed/Rejected/Unchanged)",
        "NEW: Statement fingerprinting and deduplication on rescan (unchanged statements tagged, new ones flagged)",
        "NEW: Statement duplicate cleanup utility — find and remove duplicate statement groups",
        "NEW: Bulk statement review — batch approve/reject pending statements from overview dashboard",
        "NEW: Role statements panel (S key) — modal showing all statements for a role, grouped by document",
        "NEW: Bulk reassign/remove statements — select statements and reassign to different roles or remove",
        "NEW: Generic role warning — banner for generic names (Personnel, Staff, etc.) that likely have misassigned statements",
        "NEW: Statement-to-role tagging with autocomplete during statement edit in Document Viewer",
        "NEW: AEGIS.StatementReviewLookup global utility — badge rendering with 15s TTL cache",
        "NEW: Clear Statement Data in Settings → Data Management",
        "NEW: Clear Role Dictionary handler wired up in Settings → Data Management",
        "NEW: Clear Learning Data handler wired up in Settings → Data Management",
        "NEW: Data counts displayed in Data Management (statement count, role count)",
        "FIX: Impact Analyzer readability — increased font sizes and padding for path-to-100 bars",
        "FIX: Factory reset now clears ALL tables (was missing role_function_tags, role_relationships, function_categories, etc.)",
        "FIX: Compare feature CSRF failures — added /status endpoint + retry-after-refresh logic",
        "FIX: Settings save UX — dirty tracking with pulse animation, unsaved changes warning on close",
        "BACKEND: 11 new API endpoints for statement review, dedup, role statements, and data management",
        "BACKEND: Schema migration adds review_status, confirmed, reviewed_by, reviewed_at, fingerprint to scan_statements"
      ]
    },
    {
      "version": "4.5.2",
      "date": "2026-02-10",
      "changes": [
        "FIX: Quality score always showing N/A — frontend used wrong field name (quality_score vs score)",
        "FIX: .doc files now return clear error message instead of failing silently when LibreOffice unavailable",
        "FIX: Infinite recursion crash in _log() fallback when config_logging import fails",
        "FIX: SessionManager.set() AttributeError — method didn't exist, replaced with update()",
        "FIX: DoclingAdapter crash when table headers are None — added null-safe guards",
        "FIX: Missing @app.route decorator on /api/filter endpoint — function was unreachable",
        "FIX: File handle leaks in html_preview ZIP detection — now uses context manager",
        "FIX: Docling subprocess queue race condition — replaced empty()+get_nowait() with get(timeout=2)",
        "FIX: fitz.Document handle leak on corrupt PDFs — now uses context manager",
        "FIX: Empty/unreadable documents now return a clear warning instead of false 100 score",
        "IMPROVED: DOCX Docling timeout reduced to 60s (from 120s) — DOCX extracts faster than PDFs",
        "REMOVED: Deprecated _run_with_timeout() function and ThreadPoolExecutor import (dead code cleanup)",
        "REMOVED: Unused concurrent.futures import that caused confusion about parallel checker support"
      ]
    },
    {
      "version": "4.5.1",
      "date": "2026-02-10",
      "changes": [
        "FEATURE: Hierarchical Edge Bundling (HEB) — new default relationship graph layout with circular node arrangement and bundled edges",
        "FEATURE: Semantic Zoom (Level-of-Detail) — zoom-based progressive disclosure graph with 3 LOD levels",
        "NEW: Bundling Tension slider — adjusts edge bundling from 0 (straight lines) to 1 (maximum bundling)",
        "NEW: Document group arcs — colored arc segments around the circle showing which document each role belongs to",
        "NEW: Bridge role visualization — cross-document relationships appear as long bundled curves spanning the circle",
        "NEW: Layout dropdown updated with Edge Bundling (default), Semantic Zoom, Force-Directed (Classic), Bipartite options",
        "NEW: HEB-specific legend with arc, bundled edge, and brightness indicators",
        "NEW: HEB minimap — circular dot minimap with colored document group arcs",
        "IMPROVED: All 15 existing interactions preserved in HEB (node click, hover, drill-down, breadcrumbs, weight slider, search, labels, zoom, keyboard, minimap, adjudication badges, performance mode)",
        "IMPROVED: Semantic Zoom LOD 1 (clusters), LOD 2 (nodes), LOD 3 (labels) with smooth transitions",
        "IMPROVED: HEB is inherently faster than force-directed (no simulation), thresholds raised to 300/600",
        "IMPROVED: Dark mode support for all HEB and Semantic Zoom elements"
      ]
    },
    {
      "version": "4.5.0",
      "date": "2026-02-09",
      "changes": [
        "FEATURE: Scan Progress Dashboard — step-by-step checklist with sub-progress, ETA, and animations",
        "FEATURE: Landing Page Dashboard — tool launcher cards, recent documents, system stats",
        "IMPROVED: Granular progress reporting during checker execution phase",
        "FIX: Statement extraction pipe artifacts (||||||) in PDFs processed by Docling",
        "FIX: Compare Viewer dark mode — replaced [data-theme=dark] with body.dark-mode selectors",
        "FIX: Compare Viewer CSRF 403 errors — syncs token from GET responses",
        "FIX: Document Viewer highlight scroll alignment — uses scrollIntoView with center positioning",
        "FIX: PDF.js toggle 'not available' — added .mjs to allowed vendor extensions",
        "FIX: Role Interactions empty page on drill — shows empty state when no data available",
        "FIX: History tab action column cutoff — fixed table layout with explicit column widths",
        "FIX: Scan processing hanging — improved cancellation checks between phases",
        "IMPROVED: Matrix animation is now default for batch processing (slower, more cinematic)",
        "IMPROVED: Batch processing dark mode text visibility",
        "IMPROVED: Removed .txt extension bypass from documentation",
        "NEW: TWR.ScanProgress module — 7-step weighted progress with localStorage ETA history",
        "NEW: TWR.LandingDashboard module — 6 tool cards with responsive grid layout",
        "NEW: _sanitize_for_statements() fallback for Docling PDF text cleanup",
        "IMPROVED: Better progress reporting during checker execution phase"
      ]
    },
    {
      "version": "4.4.0",
      "date": "2026-02-09",
      "changes": [
        "FEATURE: Statement Quality Improvement — clean text for Statement Forge extraction",
        "NEW: clean_full_text via mammoth when Docling is primary extractor (eliminates | and ** artifacts)",
        "NEW: Statement Diff Export — CSV and PDF export from Compare Viewer with AEGIS-branded report",
        "NEW: Statement Search — cross-scan full-text search with debounced UI and directive filtering",
        "NEW: Bulk Statement Editing — multi-select statements with batch directive/role updates",
        "NEW: PDF.js Viewer — pixel-perfect PDF canvas rendering toggle in Document Viewer",
        "NEW: PDF/HTML view toggle for PDF documents in Statement History",
        "IMPROVED: Compare Viewer state reset prevents stale document cache between viewer sessions",
        "IMPROVED: Compare Viewer diff indicators in HTML content no longer inherit strikethrough",
        "BACKEND: GET /api/scan-history/statements/search — full-text search across all scans",
        "BACKEND: PUT /api/scan-history/statements/batch — batch update statement fields",
        "BACKEND: GET /api/scan-history/document-file — serve original document for PDF.js",
        "BACKEND: GET /api/statement-forge/compare/{id1}/{id2}/export-csv — diff export as CSV",
        "BACKEND: GET /api/statement-forge/compare/{id1}/{id2}/export-pdf — diff export as PDF"
      ]
    },
    {
      "version": "4.3.0",
      "date": "2026-02-09",
      "changes": [
        "FEATURE: Document Extraction Overhaul — mammoth for DOCX→HTML, pymupdf4llm for PDF→Markdown",
        "NEW: MammothDocumentExtractor class with clean semantic HTML output (no table artifacts)",
        "NEW: Pymupdf4llmExtractor class with structured Markdown extraction for PDFs",
        "NEW: html_preview field stored in scan results for rich document rendering",
        "NEW: HTML-based Document Viewer in Statement History with proper tables, headings, formatting",
        "NEW: DOM text node walking for reliable highlight positioning in HTML content",
        "NEW: Cross-extractor normalized matching (strips **, |, ---, # artifacts for highlight matching)",
        "NEW: Install_AEGIS.bat — 7-step Windows installer with user-selectable location (default C:\\AEGIS)",
        "NEW: Start_AEGIS.bat and Stop_AEGIS.bat launcher scripts with offline dependency installation",
        "IMPROVED: package_for_distribution.bat renamed to AEGIS_Distribution with mammoth wheel bundling",
        "IMPROVED: /api/scan-history/document-text returns html_preview and format fields",
        "IMPROVED: Extraction fallback chain: Docling → mammoth/pymupdf4llm → legacy extractors",
        "IMPROVED: Old scans gracefully fall back to plain-text highlighting (backward compatible)",
        "BACKEND: mammoth>=1.6.0 added to requirements.txt",
        "BACKEND: MAMMOTH_AVAILABLE and PYMUPDF4LLM_AVAILABLE import flags with graceful fallback"
      ]
    },
    {
      "version": "4.2.0",
      "date": "2026-02-09",
      "changes": [
        "FEATURE: Statement Forge History — track statement extraction results across scans with comparison and document viewer",
        "NEW: Statement History overview dashboard with stat tiles, trend chart, directive donut, scan timeline",
        "NEW: Document Viewer with split-panel layout — source text with highlighted statements + detail panel",
        "NEW: Directive-specific highlight colors (blue=shall, red=must, amber=will, green=should, purple=may)",
        "NEW: Highlight-to-create — select text in document to create new statements with auto-detected directive",
        "NEW: Statement editing via inline form with PUT API save",
        "NEW: Unified Compare Viewer — single document with diff-aware highlights (added/removed/modified/unchanged)",
        "NEW: Diff summary bar with counts, dual filter system (directive + diff status), field-level diff for modified statements",
        "NEW: Compare keyboard shortcuts: a=next added, r=next removed, m=next modified",
        "NEW: Backend compare_scan_statements() enhanced with two-tier fingerprint matching for modified detection",
        "NEW: _diff_status injection on statements for diff-aware rendering",
        "FIX: Overlapping statements now share highlight marks via data-stmt-indices attribute with findMarkForIndex() helper",
        "FIX: Document scroll positioning uses getBoundingClientRect() instead of unreliable offsetTop for cross-container accuracy",
        "FIX: Forge History button correctly opens history for current document",
        "FIX: Dark mode highlights, navigation buttons, close button, Escape key handling all fixed",
        "VERIFIED: Statement extraction logic (statement_forge/extractor.py) confirmed intact and unmodified",
        "VERIFIED: All changes Windows-compatible (pathlib.Path, proper env var fallbacks, no hardcoded paths)"
      ]
    },
    {
      "version": "4.1.0",
      "date": "2026-02-08",
      "changes": [
        "FEATURE: Nimbus SIPOC Import - parse Nimbus process model SIPOC exports to build role inheritance",
        "NEW: Role Inheritance from Resource column with context-dependent parsing modes",
        "NEW: Hierarchy mode (Roles Hierarchy map) — inherits-from relationships from Resources column",
        "NEW: Process mode (fallback) — co-performs, supplies-to, receives-from relationships from all columns",
        "NEW: Auto-fallback when Roles Hierarchy map path not found — processes all rows in process mode",
        "NEW: Interactive HTML Role Inheritance Map (renamed from Hierarchy) with 4 views: Dashboard, Tree, Graph, Table",
        "NEW: Inline editing in Inheritance Map — edit all role fields, track changes, export diffs as JSON",
        "NEW: Export-back workflow — drop edited JSON in updates/ folder, Check for Updates auto-imports changes",
        "NEW: Function Tag Distribution donut chart with accurate counts from role_function_tags join table",
        "NEW: Graph View animations — staggered card entrance, SVG node pop-in, arrow draw-in, center pulse",
        "NEW: Dashboard stat cards with animated counters, Health Metrics, Role Types breakdown",
        "NEW: Interactive HTML Role Import Template — downloadable standalone form for manual role entry",
        "NEW: Template supports bulk paste from Excel, CSV, semicolons, or one-per-line with auto-format detection",
        "NEW: Template exports JSON for re-import into AEGIS with all extended fields",
        "NEW: SIPOC import wizard with 5-step flow (upload, preview, options, import, complete)",
        "NEW: Hierarchy view mode in dictionary - collapsible tree visualization of role inheritance",
        "NEW: Pre-export filter modal - filter by org group, disposition, baselined status before exporting",
        "NEW: Role Disposition tracking (Sanctioned, To Be Retired, TBD) with visual differentiation",
        "NEW: Baselined status tracking with green checkmark indicators",
        "NEW: Role Type classification (Singular-Specific, Singular-Aggregate, Group-Specific, Group-Aggregate)",
        "NEW: Import dropdown menu - CSV/Excel import and Nimbus SIPOC Import as separate options",
        "NEW: Template download button in dictionary toolbar for blank role entry form",
        "NEW: role_relationships database table with inherits-from, uses-tool, co-performs, supplies-to, receives-from types",
        "NEW: role_template_export.py standalone HTML generator for interactive role import template",
        "NEW: 6 new API endpoints (import-sipoc, relationships, hierarchy, hierarchy/export-html, clear-sipoc, export-template)",
        "NEW: sipoc_parser.py standalone module for SIPOC Excel parsing with dual-mode logic",
        "NEW: hierarchy_export.py standalone HTML generator for offline hierarchy visualization",
        "IMPROVED: Dictionary cards and table rows show disposition, baselined, and role type badges",
        "IMPROVED: To Be Retired roles shown with strikethrough, faded, and amber warning styling",
        "IMPROVED: SIPOC fallback notice — yellow/green info boxes showing parsing mode in preview",
        "IMPROVED: Extended field import support (role_type, role_disposition, org_group, baselined) from template JSON",
        "IMPROVED: SIPOC re-import now auto-removes stale roles no longer present in the new SIPOC file",
        "IMPROVED: Diff-based cleanup compares new SIPOC against existing source='sipoc' roles and removes orphans",
        "IMPROVED: Import results show removal counts (roles, relationships, tags removed)",
        "FIX: Dictionary keyboard hints bar no longer overlaps table rows — uses flexbox layout instead of fixed height",
        "FIX: RACI Matrix click handling — drilldown modal now opens correctly (was silently failing due to showModal signature mismatch)",
        "FIX: Adjudication card body click now opens Source Viewer — added fallback handler for clicks outside specific buttons",
        "FIX: Adjudication kanban card click now opens Source Viewer — kanban cards previously had no click handlers",
        "FIX: Context toggle class name mismatch fixed (adj-card-context-toggle vs adj-context-toggle)",
        "NEW: showContentModal() function in modals.js for dynamic content modals without pre-existing DOM elements",
        "FIX: Data Explorer chart.canvas null reference error when switching tabs rapidly",
        "VERIFIED: All 8 Roles Studio tabs tested end-to-end with zero console errors"
      ]
    },
    {
      "version": "4.0.5",
      "date": "2026-02-08",
      "changes": [
        "OVERHAUL: Complete rewrite of Role Dictionary tab with dashboard, card view, and bulk operations",
        "NEW: Dictionary Dashboard - 4 stat tiles (total, deliverables, adjudicated, health score) with donut chart",
        "NEW: Card View toggle - rich role cards with color-coded adjudication borders and inline actions",
        "NEW: Bulk Operations - select multiple roles with checkboxes, batch activate/deactivate/delete/set category/mark deliverable",
        "NEW: Inline Quick Actions - click category badge to change, star toggle for deliverable, click name to copy",
        "NEW: Role Cloning - duplicate any role with one click for quick creation of similar roles",
        "NEW: Duplicate Detection - warns when saving roles with similar names or matching aliases",
        "NEW: Keyboard Navigation - j/k or arrows to navigate, Enter to edit, Space to select, T to toggle view, / to search",
        "NEW: Enhanced Filtering - filter by adjudication status, has description, has function tags",
        "NEW: Audit Trail display - shows time ago, updated by info with full date tooltips",
        "NEW: Sortable columns with sort direction arrows (role name, category, modified date)",
        "IMPROVED: Adjudication badges on every dictionary row showing confirmed/deliverable/rejected/pending status",
        "IMPROVED: Health score metric tracking description and tag completeness across the dictionary"
      ]
    },
    {
      "version": "4.0.4",
      "date": "2026-02-08",
      "changes": [
        "NEW: Dictionary Diff Preview - preview what will change before importing adjudication decisions",
        "NEW: Package versioning - warns when importing packages from newer AEGIS versions",
        "NEW: PDF adjudication report export (Export → PDF Report)",
        "IMPROVED: Import progress indicators with spinner overlay during import operations",
        "IMPROVED: Two-step import flow: preview diff → confirm → import",
        "BACKEND: POST /api/roles/adjudication/import-preview - diff preview endpoint",
        "BACKEND: GET /api/roles/adjudication/export-pdf - PDF report generation"
      ]
    },
    {
      "version": "4.0.3",
      "date": "2026-02-08",
      "changes": [
        "NEW: Global adjudication badges (✓ Adjudicated, ★ Deliverable, ✗ Rejected) on all role displays tool-wide",
        "NEW: AEGIS.AdjudicationLookup global utility - fetches role dictionary, caches, provides badge HTML",
        "NEW: adjudication-lookup.js - standalone utility for any JS file to display adjudication status",
        "IMPROVED: Adjudication stats shown as green subtitle under Unique Roles tile (not separate tile)",
        "FIX: Critical dark-mode.css not loading - CSS @import ordering violation in style.css",
        "FIX: Data Explorer donut chart center text alignment with Chart.js animation timing",
        "OVERHAUL: Complete rewrite of Adjudication tab in Roles & Responsibilities Studio",
        "NEW: Auto-Classify button - AI-assisted role classification with pattern matching and confidence scoring",
        "NEW: Kanban board view with drag-and-drop between Pending/Confirmed/Deliverable/Rejected columns",
        "NEW: Mini dashboard with animated stat cards, SVG progress ring, and click-to-filter",
        "NEW: Function tag pills on role cards - assign hierarchical function categories inline",
        "NEW: Confidence gauge (SVG ring) on each role card showing classification confidence",
        "NEW: Document chips showing which scanned documents contain each role",
        "NEW: Undo/Redo system for all adjudication actions (Ctrl+Z / Ctrl+Y)",
        "NEW: Keyboard navigation (Arrow keys, C=Confirm, D=Deliverable, R=Reject, V=View Source)",
        "NEW: Batch adjudication API endpoint for processing multiple roles in single transaction",
        "NEW: Auto-adjudicate API endpoint with deliverable/role pattern matching",
        "NEW: Adjudication summary API endpoint with status counts and recent activity",
        "NEW: CSV export of adjudication data with role, status, confidence, documents",
        "NEW: Bulk selection with select-all checkbox and batch confirm/reject/deliverable",
        "NEW: View toggle between list and kanban views with localStorage persistence",
        "NEW: Function tag section in Role Source Viewer with Add/Remove tags and custom tag creation",
        "IMPROVED: Role cards show context preview with expandable full context",
        "IMPROVED: Function tags assignable/removable directly from role cards",
        "IMPROVED: Enhanced search and filter with status, confidence, and tag filtering",
        "FIX: CSRF token sync between page load and fetch sessions",
        "FIX: Persistent secret key survives server restarts",
        "FIX: Localhost server switched from Waitress to Flask threaded (Secure cookie flag fix)",
        "FIX: Kanban view toggle properly shows/hides list and board containers",
        "BACKEND: batch_adjudicate() method in scan_history.py for transactional batch operations",
        "BACKEND: get_adjudication_summary() method for dashboard statistics",
        "BACKEND: Enhanced /api/roles/adjudicate endpoint with function_tags parameter",
        "NEW: Interactive HTML Export - standalone kanban board with drag-drop, tags, categories, notes, and import file generation",
        "NEW: Import Decisions - import adjudication decisions from JSON files generated by HTML board",
        "NEW: Export dropdown menu with CSV, Interactive HTML Board, and Import options",
        "NEW: Share button with Export to Shared Folder and Email Package options",
        "NEW: .aegis-roles package format for team sharing of role dictionaries with function tags",
        "NEW: Settings > Sharing > Import Package for .aegis-roles file upload",
        "NEW: FileRouter auto-imports .aegis-roles files from updates/ folder",
        "IMPROVED: Master file export now includes function_tags per role",
        "IMPROVED: Master file sync now imports function_tags during sync",
        "BACKEND: GET /api/roles/adjudication/export-html endpoint",
        "BACKEND: POST /api/roles/adjudication/import endpoint",
        "BACKEND: POST /api/roles/share/package endpoint",
        "BACKEND: POST /api/roles/share/import-package endpoint"
      ]
    },
    {
      "version": "4.0.1",
      "date": "2026-02-04",
      "changes": [
        "ACCURACY: Role extraction v3.3.3 achieves 99%+ recall across all document types",
        "ACCURACY: Added ~70 new roles (OSHA, academic, defense, aerospace)",
        "ACCURACY: Added ~25 false positive filters, removed 3 incorrect entries (contractor, government, quality control)",
        "ACCURACY: Added domain-specific validation (worker_terms, defense_terms, academic_terms)",
        "VALIDATED: FAA, OSHA, Stanford documents - 103% average recall",
        "VALIDATED: Defense/Government (MIL-STD, NIST) - 99.5% average recall",
        "VALIDATED: Aerospace (NASA, FAA, KSC) - 99.0% average recall",
        "NEW: defense_role_analysis.py, aerospace_role_analysis.py test scripts",
        "DOC: Updated ROLE_EXTRACTION_IMPROVEMENTS.md, ROLE_EXTRACTION_TEST_RESULTS.md"
      ]
    },
    {
      "version": "4.0.0",
      "date": "2026-02-04",
      "changes": [
        "REBRAND: Complete rebrand from TechWriterReview to AEGIS (Aerospace Engineering Governance & Inspection System)",
        "REBRAND: Updated 163+ files across codebase with new branding",
        "REBRAND: New AEGIS shield logo with gold/bronze gradient",
        "REBRAND: Gold accent color palette (#D6A84A, #B8743A) throughout UI",
        "REBRAND: Updated browser title, navigation, and all UI text",
        "ACCURACY: Fixed critical GRM002 'Capitalize I' false positives matching 'i' inside words",
        "ACCURACY: Grammar checker v2.6.0 with case-sensitive lowercase 'i' detection",
        "ACCURACY: Punctuation checker v2.7.0 filters TOC/table of contents entries",
        "ACCURACY: Prose linter v1.1.0 with nominalization exceptions for 40+ technical terms",
        "ACCURACY: Base checker v2.5.0 with word boundary validation for single-char matches",
        "NEW: Bokeh visualization library added to requirements for interactive charts",
        "IMPROVED: Dark mode AEGIS brand colors for better visibility",
        "IMPROVED: Active navigation tabs use gold accent underline",
        "TEST: All 42 v3.4.0 checker tests passing",
        "TEST: All 117 core tests passing"
      ]
    },
    {
      "version": "3.4.5",
      "date": "2026-02-04",
      "changes": [
        "UI: Added 23 new v3.4.0 checker checkboxes to Settings > Document Profiles",
        "UI: New checker categories - Readability, Procedural Writing, Product & Code, Standards & Compliance",
        "UI: Style Guide Preset selector in Settings > Review Options (8 presets)",
        "NEW: static/js/features/style-presets.js - Preset UI module with localStorage persistence",
        "NEW: tests/test_checker_performance.py - Performance benchmark suite for 84 checkers",
        "FIX: BUG-M09 - Hyperlink validator HTML export summary now properly handles undefined values",
        "IMPROVED: Checker grid CSS with scrollable categories and compact layout",
        "VERIFIED: 84 checkers registered and available for document analysis"
      ]
    },
    {
      "version": "3.4.4",
      "date": "2026-02-04",
      "changes": [
        "DATABASE: Added universal_acronyms.json with 1,767 well-known acronyms",
        "DATABASE: Sources include UK MOJ, DOD Dictionary, FDA, IEEE/ISO/ANSI, common tech writing",
        "DATABASE: Acronyms categorized (technology, government, military, medical, finance, etc.)",
        "IMPROVED: Acronym checker v4.6.0 now loads external acronym database",
        "IMPROVED: External database used in permissive mode to auto-skip well-known acronyms",
        "IMPROVED: Database loading is cached for performance (loaded once per session)",
        "OFFLINE: All 1,767 acronyms available offline for air-gapped deployments"
      ]
    },
    {
      "version": "3.4.3",
      "date": "2026-02-03",
      "changes": [
        "ACCURACY: Comprehensive batch testing across 10+ document types",
        "ACCURACY: Added ALL CAPS sentence detection to prevent false acronym flags",
        "ACCURACY: Added 50+ well-known regulatory acronyms (NIOSH, CDC, NIH, etc.)",
        "ACCURACY: Added 30+ engineering/process acronyms (PID, PLC, SCADA, etc.)",
        "ACCURACY: Added 60+ common words in ALL CAPS instructions (HARD, MUST, etc.)",
        "ACCURACY: Reduced passive voice false positives with 50+ technical terms",
        "ACCURACY: Fixed 'is need' and similar false positive patterns",
        "IMPROVED: Acronym checker v4.5.2 with better ALL CAPS detection",
        "IMPROVED: Grammar checker v2.6.2 with comprehensive false positive list"
      ]
    },
    {
      "version": "3.4.2",
      "date": "2026-02-03",
      "changes": [
        "ACCURACY: Reduced false positives in acronym detection by 40%+",
        "ACCURACY: Section reference codes (A1, B2, C3...) no longer flagged as undefined acronyms",
        "ACCURACY: Template/instruction text in brackets [GREEN TEXT] now filtered out",
        "ACCURACY: Added 80+ domain-specific skip words (ROBOTICS, REST, COVID, LASER, etc.)",
        "ACCURACY: Improved passive voice detection - added 50+ technical/SOP terms to false positives",
        "FIX: Phantom passive voice detections (are prohibited, must be contacted, etc.) eliminated",
        "IMPROVED: Acronym checker v4.5.1 with smarter section reference detection",
        "IMPROVED: Grammar checker v2.6.1 with expanded technical vocabulary"
      ]
    },
    {
      "version": "3.4.1",
      "date": "2026-02-03",
      "changes": [
        "NEW: Style Guide Presets - One-click configuration for Microsoft, Google, Plain Language, ASD-STE100, Government, Aerospace styles",
        "NEW: style_presets.py - 8 pre-built style guide configurations with checker settings",
        "NEW: Full CLI Mode - Run all 84 checkers from command line (python -m AEGIS document.docx)",
        "NEW: __main__.py - Complete CLI with batch processing, preset selection, JSON/CSV/XLSX export",
        "NEW: Auto-Fix Engine - Foundation for automatic issue correction",
        "NEW: auto_fixer.py - Fix generators for Latin abbreviations, contractions, wordy phrases, product names, second person, future tense, link text",
        "NEW: ASD-STE100 Approved Words - data/ste100_approved_words.json with 875 approved words and writing rules",
        "NEW: API /api/presets - List and apply style guide presets",
        "NEW: API /api/presets/<name> - Get specific preset configuration",
        "NEW: API /api/presets/<name>/apply - Apply preset with custom overrides",
        "NEW: API /api/auto-fix/preview - Preview available auto-fixes for issues",
        "CLI: --preset flag for style guide selection (microsoft, google, plain_language, asd_ste100, government, aerospace)",
        "CLI: --batch flag for processing multiple documents",
        "CLI: --format flag for output format (json, csv, xlsx, text)",
        "CLI: --list-presets and --list-checkers info commands",
        "IMPROVED: Vale-style preset configurations matching industry standards"
      ]
    },
    {
      "version": "3.4.0",
      "date": "2026-02-03",
      "changes": [
        "NEW: Maximum Coverage Suite - 23 new offline-only checkers for comprehensive analysis",
        "NEW: style_consistency_checkers.py - 6 checkers (heading case, contractions, Oxford comma, ARI, Spache, Dale-Chall)",
        "NEW: clarity_checkers.py - 5 checkers (future tense, Latin abbreviations, sentence-initial conjunctions, directional language, time-sensitive language)",
        "NEW: acronym_enhanced_checkers.py - 2 checkers (first-use enforcement, multiple definition detection)",
        "NEW: procedural_writing_checkers.py - 3 checkers (imperative mood, second person preference, link text quality)",
        "NEW: document_quality_checkers.py - 4 checkers (numbered list sequence, product name consistency, cross-reference targets, code formatting)",
        "NEW: compliance_checkers.py - 3 checkers (MIL-STD-40051, S1000D basic, AS9100 documentation)",
        "NEW: data/dale_chall_3000.json - Full 3000-word Dale-Chall easy word list for readability analysis",
        "NEW: data/spache_easy_words.json - 1000+ word Spache formula word list",
        "NEW: data/product_names.json - 250+ product/technology name capitalizations",
        "NEW: data/mil_std_40051_patterns.json - MIL-STD-40051-2 compliance patterns and rules",
        "NEW: data/s1000d_basic_rules.json - S1000D Issue 5.0 structural requirements",
        "NEW: data/as9100_doc_requirements.json - AS9100D documentation requirements",
        "NEW: Option mappings for all 23 checkers in core.py for UI checkbox control",
        "IMPROVED: Vale-style style guide compliance (Microsoft, Google, ASD-STE100)",
        "IMPROVED: Readability formulas (ARI, Spache, enhanced Dale-Chall)",
        "IMPROVED: Procedural writing validation per technical writing best practices",
        "IMPROVED: Aerospace/defense compliance checking (MIL-STD, S1000D, AS9100)",
        "TEST: Comprehensive unit tests for all 23 new checkers",
        "TEST: Integration tests verifying checkers load in core.py",
        "TEST: Data file validation tests",
        "OFFLINE: All 23 checkers 100% offline-capable with no external API dependencies"
      ]
    },
    {
      "version": "3.3.0",
      "date": "2026-02-03",
      "changes": [
        "NEW: Maximum Accuracy NLP Enhancement Suite for near-100% accuracy",
        "NEW: technical_dictionary.py - 10,000+ term master dictionary with aerospace/defense terminology",
        "NEW: adaptive_learner.py - Unified learning system with SQLite persistence for role/acronym/grammar decisions",
        "NEW: nlp_enhanced.py - Enhanced NLP processor with EntityRuler, PhraseMatcher, transformer support",
        "NEW: enhanced_passive_checker.py - Dependency parsing-based passive voice detection (not regex)",
        "NEW: fragment_checker.py - Syntactic parsing for sentence fragment detection",
        "NEW: requirements_analyzer.py - Atomicity, testability, escape clause, ambiguous term checking",
        "NEW: terminology_checker.py - Spelling variant, British/American, abbreviation consistency",
        "NEW: cross_reference_validator.py - Section/table/figure/requirement reference validation",
        "NEW: data/aerospace_patterns.json - 80+ EntityRuler patterns for aerospace/defense",
        "NEW: 300+ adjectival participles whitelist for passive voice false positive reduction",
        "NEW: 60+ ambiguous terms database for requirements analysis",
        "NEW: 100+ British/American word pairs for terminology consistency",
        "NEW: Ensemble extraction combining NER, patterns, and dependency parsing",
        "NEW: Context-aware confidence boosting from user decisions",
        "NEW: Export/import JSON for team sharing of learned patterns",
        "IMPROVED: Role extraction target accuracy 95%+ (from 56.7%)",
        "IMPROVED: Acronym detection target accuracy 95%+ (from 75%)",
        "IMPROVED: Passive voice detection target accuracy 88%+ (from 70%)",
        "IMPROVED: Spelling accuracy target 98%+ (from 85%)",
        "TEST: 167 new unit tests (40+34+30+35+28) across 5 test files",
        "TEST: All 356 tests passing (189 existing + 167 new)",
        "OFFLINE: All features 100% offline-capable for air-gapped deployment"
      ]
    },
    {
      "version": "3.2.5",
      "date": "2026-02-03",
      "changes": [
        "IMPROVED: Role extraction now filters phone number patterns (###-####, (###), etc.)",
        "IMPROVED: Role extraction now filters candidates starting with digits",
        "IMPROVED: Role extraction now filters candidates with >30% numeric characters",
        "IMPROVED: Role extraction now filters candidates containing ZIP codes",
        "IMPROVED: Role extraction maximum length validation (>60 chars rejected)",
        "IMPROVED: Acronyms in parentheses now extracted with roles (e.g., 'Project Manager (PM)' extracts PM)",
        "IMPROVED: Acronym pattern extended to support 6-word role names and & in acronyms",
        "IMPROVED: NLP extraction now captures acronyms from context",
        "IMPROVED: Filter run-together words from PDF extraction (e.g., 'Byasafetydepartment')",
        "IMPROVED: Filter slash-separated alternatives (e.g., 'Owner/Manager')",
        "IMPROVED: Filter section headers (e.g., 'C. Scalability')",
        "IMPROVED: Filter address/location patterns (e.g., 'Suite 670', 'Atlanta Federal Center')",
        "IMPROVED: More conservative NLP override - requires role indicators to trust NLP",
        "IMPROVED: Added 20+ single-word exclusions (user, owner, chief, team, group, etc.)",
        "IMPROVED: Filter 'Other X' and 'Own X' patterns",
        "NEW: 25+ FAA/Aviation-specific roles (accountable executive, certificate holder, flight crew, etc.)",
        "NEW: 25+ OSHA/Safety-specific roles (process safety coordinator, plant manager, shift supervisor, etc.)",
        "ACCURACY: Reduced false positives by 78% (9 → 2) in test documents",
        "ACCURACY: Improved accuracy from 36.7% to 56.7% on FAA/OSHA documents"
      ]
    },
    {
      "version": "3.2.4",
      "date": "2026-02-03",
      "changes": [
        "IMPROVED: Enhanced spaCy integration for role extraction (BUG-M11)",
        "IMPROVED: NLPProcessor v1.1.0 with better noun chunk analysis",
        "IMPROVED: Added compound noun detection for multi-word roles",
        "IMPROVED: Added passive voice subject detection for roles",
        "IMPROVED: Added role-verb association detection (approve, review, coordinate, etc.)",
        "IMPROVED: Enhanced confidence scoring based on POS tags and linguistic features",
        "IMPROVED: Better sentence-based context extraction using spaCy",
        "IMPROVED: Lower threshold for high-confidence NLP detections",
        "IMPROVED: Added 45+ new role suffixes and modifiers for aerospace/defense",
        "IMPROVED: Added org unit indicators (directorate, center, facility, etc.)",
        "IMPROVED: Fuzzy matching in NLP enhancement to boost existing roles",
        "NEW: semantic_analyzer.py - Sentence-Transformers for semantic similarity",
        "NEW: acronym_extractor.py - Schwartz-Hearst algorithm for acronym extraction",
        "NEW: prose_linter.py - Vale-style rules for technical writing",
        "NEW: structure_analyzer.py - Document structure and cross-reference analysis",
        "NEW: text_statistics.py - Comprehensive readability and text metrics",
        "NEW: Semantic similarity search for finding related content",
        "NEW: Duplicate/near-duplicate detection in documents",
        "NEW: Sentence clustering for content organization",
        "NEW: 100+ standard aerospace/defense acronyms in acronym extractor",
        "NEW: Passive voice, nominalization, and wordy phrase detection",
        "NEW: Government/aerospace style guide compliance checking",
        "NEW: Heading hierarchy and cross-reference validation",
        "NEW: Vocabulary richness metrics (TTR, Hapax Legomena, Yule's K)",
        "NEW: TF-IDF and noun phrase keyword extraction",
        "NEW: Technical writing metrics (shall/will/must usage, jargon density)",
        "UPDATED: requirements.txt with sentence-transformers and rapidfuzz",
        "NEW: enhanced_analyzers.py - Integration wrapper for all new modules",
        "INTEGRATED: All 5 analyzers registered as checkers in core.py",
        "INTEGRATED: Option mappings for UI checkbox control",
        "NEW: /api/analyzers/status endpoint for analyzer availability",
        "NEW: /api/analyzers/semantic/similar endpoint for similarity search",
        "NEW: /api/analyzers/acronyms/extract endpoint for acronym extraction",
        "NEW: /api/analyzers/statistics endpoint for text metrics",
        "NEW: /api/analyzers/lint endpoint for prose quality checking",
        "NEW: Enhanced analyzer metrics in review results"
      ]
    },
    {
      "version": "3.2.3",
      "date": "2026-02-03",
      "changes": [
        "FIX: BUG-M09 - HTML export now properly escapes URLs and handles None values",
        "FIX: BUG-M09 - HTML export generates summary from results when summary object is None",
        "FIX: BUG-M07 - Soft 404 detection less aggressive (removed generic 'error' from title check)",
        "FIX: BUG-M23 - Version numbers synchronized across all UI components to 3.2.3",
        "FIX: BUG-M26 - Duplicate element IDs in troubleshooting panel renamed to prevent conflicts",
        "FIX: BUG-M25 - Troubleshooting export buttons now properly find their elements",
        "IMPROVED: Hyperlink validator HTML export includes import for html escaping module"
      ]
    },
    {
      "version": "3.2.2",
      "date": "2026-02-03",
      "changes": [
        "FIX: Adjudicated roles now properly saved to role dictionary via both primary and backup API paths",
        "FIX: Adjudicated roles removed from pending list - list refreshes correctly after adjudication",
        "FIX: Adjudication sync now properly updates AdjudicationState.decisions Map with all required fields",
        "FIX: Role Dictionary delete button now shows proper icon instead of red box",
        "FIX: Dictionary table action buttons styled correctly (edit, toggle, delete)",
        "FIX: Status badges (active/inactive) now styled correctly in dictionary table",
        "NEW: Backup dictionary save via /api/roles/dictionary if primary endpoint fails",
        "IMPROVED: Better logging for adjudication sync to help diagnose issues",
        "IMPROVED: State.adjudicatedRoles properly updated for graph visualization sync"
      ]
    },
    {
      "version": "3.2.1",
      "date": "2026-02-03",
      "changes": [
        "FIX: Per-role adjudication persistence - each role now tracks its own adjudication state",
        "NEW: API endpoint /api/roles/adjudicate - saves adjudication to role dictionary",
        "NEW: API endpoint /api/roles/adjudication-status - retrieves saved adjudication state",
        "NEW: API endpoint /api/roles/update-category - updates role category classification",
        "NEW: get_role_by_name() method in scan_history.py for role lookup",
        "NEW: Role extractor learns from rejections - rejected roles added to false_positives",
        "NEW: Confirmed roles added to known_roles for higher confidence matching",
        "IMPROVED: Role Source Viewer resets adjudication panel when opening new role",
        "IMPROVED: Role extraction becomes smarter over time through adjudication feedback"
      ]
    },
    {
      "version": "3.2.0",
      "date": "2026-02-03",
      "changes": [
        "NEW: Role Source Viewer with Adjudication Controls - unified role review interface",
        "NEW: View actual document text with highlighted role mentions from historical scans",
        "NEW: Adjudication panel with Confirm Role, Mark Deliverable, and Reject buttons",
        "NEW: Status badges showing adjudication state (Pending/Confirmed/Deliverable/Rejected)",
        "NEW: Category dropdown for role classification (Role, Management, Technical, Organization, Custom)",
        "NEW: Notes textarea for adjudication comments",
        "NEW: Multi-document navigation with occurrence counter",
        "NEW: Click any highlight to jump to that mention",
        "NEW: API endpoint /api/scan-history/document-text for historical document retrieval",
        "NEW: Full document text retrieved from results_json.full_text in scan history",
        "FIX: Document Compare modal sizing - now 95vw × 90vh with proper constraints",
        "FIX: Browser cache-busting with versioned script loading",
        "IMPROVED: Role Source Viewer styling with split-panel design matching Statement Review Mode"
      ]
    },
    {
      "version": "3.1.9",
      "date": "2026-02-02",
      "changes": [
        "NEW: Molten Progress Bar system - scalable Rive-inspired progress bars",
        "NEW: 4 size variants (mini 4px, small 8px, medium 16px, large 28px)",
        "NEW: 3 color themes (orange, blue, green) with molten gradients",
        "NEW: Optional reflection glow and trailing effects",
        "NEW: Indeterminate loading state (contained within bar)",
        "NEW: MoltenProgress JavaScript API for dynamic creation",
        "INTEGRATED: Molten progress in batch document rows (mini)",
        "INTEGRATED: Molten progress in loading overlay (medium with reflection)",
        "INTEGRATED: Molten progress in hyperlink validator (small with reflection)",
        "INTEGRATED: Molten progress in cinematic modal (small with reflection)",
        "FIX: AEGIS loader no longer blocks clicks after fade-out (pointer-events fix)",
        "REMOVED: Initial startup loader (app loads fast enough without it)"
      ]
    },
    {
      "version": "3.1.8",
      "date": "2026-02-02",
      "changes": [
        "NEW: AEGIS Cinematic Loader - Full-screen startup animation",
        "NEW: Cinematic 28px progress bar with glow effects",
        "NEW: Particle background canvas with 170 animated particles",
        "NEW: Blue/gold color scheme with grid overlay",
        "NEW: Sheen sweep animation with skew effect",
        "NEW: Progress orb with trailing glow",
        "NEW: Status text and percentage display",
        "NEW: Cinematic vignette and film grain overlays",
        "NEW: Boot sequence simulation during app initialization",
        "NEW: Smooth fade-out on completion",
        "IMPROVED: App initialization now shows real-time progress stages"
      ]
    },
    {
      "version": "3.1.7",
      "date": "2026-02-02",
      "changes": [
        "ENHANCED: Cinematic Progress Animation System - Major visual upgrade",
        "NEW: Particle trails - 30% of particles now leave fading motion trails",
        "NEW: Particle connections - Web-like lines between nearby particles",
        "NEW: Milestone celebrations - Burst effects at 25%, 50%, 75%, 100%",
        "NEW: Lightning bolts for Circuit theme - Random electrical arcs",
        "NEW: Twinkling star field for Cosmic theme - 50 stars with cross-shine",
        "NEW: Rising ember particles for Fire theme - 30 glowing embers",
        "NEW: Enhanced energy trail - Sparks, ripple effects, larger orb",
        "NEW: Faster Matrix streams - Depth effect, character trails, speed boost near progress",
        "NEW: Grand finale explosion at 100% - 80 burst particles with container pulse",
        "NEW: onMilestone callback for custom milestone handling",
        "IMPROVED: Energy trail now spawns 8 sparks continuously",
        "IMPROVED: Matrix characters include full katakana set (46 chars)",
        "IMPROVED: Percentage display animation with scale bounce on milestones"
      ]
    },
    {
      "version": "3.1.6",
      "date": "2026-02-02",
      "changes": [
        "NEW: Cinematic Progress Animation System with Lottie + GSAP + Rive + Canvas integration",
        "NEW: 5 cinematic themes - Circuit (orange), Cosmic (purple), Matrix (green), Energy (teal), Fire (red)",
        "NEW: Particle system with 150+ animated particles and theme-specific behaviors",
        "NEW: Energy trail effect that follows progress bar with glowing path",
        "NEW: Matrix-style data stream effect (configurable per theme)",
        "NEW: Theme selector with localStorage persistence",
        "NEW: CDN fallbacks for air-gapped compatibility",
        "ADDED: static/js/features/cinematic-progress.js (825 lines)",
        "ADDED: static/css/features/cinematic-progress.css (782 lines)",
        "ADDED: static/js/vendor/gsap.min.js (72KB)",
        "ADDED: static/js/vendor/rive.min.js (164KB)"
      ]
    },
    {
      "version": "3.1.5",
      "date": "2026-02-02",
      "changes": [
        "NEW: Circuit board themed batch progress display with dark navy/orange glow effects",
        "NEW: Elapsed time counter, estimated remaining time, and processing speed displays",
        "NEW: Animated percentage counter with smooth counting animation",
        "NEW: Real-time per-document status labels (QUEUED → UPLOADING → ANALYZING → DONE)",
        "NEW: Sound notification toggle for batch completion (speaker icon)",
        "FIX: Dual file dialog bug - Select Files/Select Folder no longer trigger both dialogs",
        "IMPROVED: Simplified circuit board visuals for cleaner appearance"
      ]
    },
    {
      "version": "3.1.4",
      "date": "2026-02-02",
      "changes": [
        "NEW: ENH-010 - Clean upgrade path with automatic backup and restore",
        "NEW: UpgradeManager class for version comparison and update application",
        "NEW: Automatic user data backup before upgrades (scan_history.db, settings, dictionaries)",
        "NEW: Rollback capability on upgrade failure",
        "NEW: update.bat (Windows) and update.sh (macOS/Linux) scripts for easy upgrades",
        "NEW: CLI interface for backup, restore, list-backups, create-package commands",
        "NEW: Update package creation with configurable exclusions",
        "TEST: Comprehensive E2E test suite expanded (75 tests) - all passing"
      ]
    },
    {
      "version": "3.1.3",
      "date": "2026-02-02",
      "changes": [
        "NEW: ENH-005 - Universal Role Source Viewer for viewing role context in source documents",
        "NEW: ENH-006 - Statement Forge Review Mode with source context and statement creation",
        "NEW: ENH-009 - Comprehensive diagnostics/logging system with circular buffer and async queue",
        "NEW: Frontend logger (frontend-logger.js) with API call timing, action tracking, backend sync",
        "NEW: Backend diagnostics (diagnostics.py) with performance timer decorator and sampling",
        "NEW: Statement model extended with source context fields (source_document, char offsets, context)",
        "NEW: Review mode navigation (prev/next) with keyboard shortcuts",
        "NEW: Approve/reject/save actions in Statement Review mode",
        "NEW: Create statement from text selection in source viewer",
        "TEST: Comprehensive E2E test suite expanded (68 tests) - all passing"
      ]
    },
    {
      "version": "3.1.2",
      "date": "2026-02-02",
      "changes": [
        "FIX: BUG-C01 - Expanded passive voice FALSE_POSITIVES from ~38 to 300+ words (technical/engineering terms)",
        "FIX: BUG-C02 - Diagnostic export timeout increased to 60s, errors limited to 500",
        "FIX: BUG-M10 - Hyperlink flags now include the actual broken URL in error messages",
        "FIX: BUG-M14 - Document comparison shows helpful message when no documents available",
        "FIX: BUG-M15 - Portfolio batch categorization time window reduced from 5min to 30sec",
        "FIX: BUG-M16 - Poll frequency increased from 500ms to 2000ms to prevent rate limiting",
        "FIX: BUG-M18 - Sidebar collapsed width reduced from 56px to 44px with fully-collapsed mode",
        "FIX: BUG-M19 - Hyperlink validator history now properly logs with excluded/duration_ms fields",
        "FIX: BUG-M20 - Carousel dark mode styling added to dark-mode.css",
        "FIX: BUG-M21 - Heatmap dark mode contrast improvements with white text and shadows",
        "FIX: BUG-M22 - Docling status check uses AbortController with 5-second timeout",
        "FIX: BUG-M27 - Print section null reference check added",
        "FIX: BUG-M28 - Scan profiles load failure null check added",
        "FIX: BUG-M29 - SortableJS now loaded locally to avoid CSP blocking",
        "FIX: BUG-M30 - HelpContent click handler uses requestAnimationFrame for performance",
        "FIX: BUG-L10 - Passive event listeners added to touch/scroll handlers",
        "NEW: ENH-001 - Role consolidation engine with 25+ built-in rules, fuzzy matching, abbreviations",
        "NEW: ENH-003 - Graph export module for PNG/SVG export of Chart.js and D3.js visualizations",
        "NEW: ENH-004 - Role comparison module for multi-document side-by-side role analysis",
        "NEW: ENH-008 - NLP integration (spaCy) for improved role/deliverable/acronym detection",
        "TEST: Comprehensive E2E test suite (48 tests) - all passing"
      ]
    },
    {
      "version": "3.0.125",
      "date": "2026-02-01",
      "changes": [
        "UI: Comprehensive Hyperlink Validator visual overhaul with modern glassmorphism design",
        "NEW: Animated stat cards with color-coded status icons and hover effects",
        "NEW: Donut chart showing URL status distribution with smooth animations",
        "NEW: Response time histogram with color-coded speed bands",
        "NEW: Domain health heatmap showing success rates by domain (clickable to filter)",
        "NEW: Enhanced progress bar with shimmer animation and speed stats",
        "NEW: Expandable error detail panels with redirect chain visualization",
        "NEW: Real-time streaming indicator showing current URL being validated",
        "NEW: Skeleton loading states for better UX during data fetching",
        "NEW: Rescan button UI for bot-protected sites with visual styling",
        "NEW: 3D Domain Health Carousel - interactive rotating cards showing domain health status",
        "NEW: Carousel features: drag-to-spin, click-to-filter, auto-rotate, health rings with percentages",
        "NEW: Domain filter clear functionality with indicator badges",
        "NEW: Large dataset support - shows top 15 domains with search and expand options",
        "FIX: History panel can now be collapsed/expanded with toggle button",
        "FIX: URL text no longer cut off - full URLs display with word wrap",
        "FIX: Modal window properly centered on screen",
        "IMPROVED: Setup.bat now includes Playwright installation (Step 8/8)",
        "CSS: 900+ lines of modern CSS with gradients, animations, dark mode support"
      ]
    },
    {
      "version": "3.0.124",
      "date": "2026-02-01",
      "changes": [
        "FEATURE: Headless Browser Rescan for bot-protected sites (defense.gov, dla.mil, etc.)",
        "NEW: /api/hyperlink-validator/rescan endpoint to retry failed URLs with real Chrome browser",
        "NEW: /api/hyperlink-validator/rescan/job/<id> to rescan all failures from a validation job",
        "NEW: Stealth mode bypasses sophisticated bot detection (Akamai, Cloudflare, etc.)",
        "NEW: Automatic HEAD→GET fallback when sites block HEAD requests",
        "IMPROVED: Uses real Chrome browser channel for better bot protection bypass",
        "REQUIRES: pip install playwright && playwright install chromium (optional, for rescan feature)"
      ]
    },
    {
      "version": "3.0.123",
      "date": "2026-02-01",
      "changes": [
        "FEATURE: CAC/PIV Client Certificate Authentication for .mil sites and federal PKI resources",
        "FEATURE: Custom CA Bundle support for DoD/Federal PKI certificate validation",
        "FEATURE: Proxy Server support for enterprise network environments",
        "IMPROVED: Simplified Hyperlink Validation to two modes: Offline (format only) and Validator (full HTTP)",
        "IMPROVED: Validator mode optimized for government (.mil/.gov) and enterprise sites",
        "NEW: Advanced Authentication Settings panel in Settings → Hyperlink Validation",
        "NEW: Windows SSO (NTLM/Negotiate) always enabled when available",
        "NEW: Extended timeouts and realistic browser headers for slow government servers",
        "NEW: HEAD/GET fallback when HEAD requests are blocked (common on government sites)",
        "NEW: Auth Required (401) and Rate Limited (429) status types with appropriate handling",
        "REMOVED: ps1_validator mode (consolidated into enhanced validator mode)",
        "DOCS: Comprehensive authentication options documentation with CAC/PIV setup guide"
      ]
    },
    {
      "version": "3.0.122",
      "date": "2026-02-01",
      "changes": [
        "FEATURE: Persistent Link Exclusions - URL exclusion rules stored in SQLite database",
        "FEATURE: Scan History Storage - Historical hyperlink scans recorded with summary statistics",
        "NEW: Link History modal with Exclusions and Scans tabs via 'Links' nav button",
        "NEW: API endpoints /api/hyperlink-validator/exclusions/* and /history/*",
        "NEW: HyperlinkValidatorStorage class for database operations",
        "NEW: Match types: contains, exact, prefix, suffix, regex",
        "IMPROVED: HyperlinkValidatorState loads exclusions from database on init"
      ]
    },
    {
      "version": "3.0.121",
      "date": "2026-02-01",
      "changes": [
        "FIX: Portfolio 'Open in Review' now correctly loads documents with full UI display",
        "IMPROVED: Responsive Hyperlinks Panel - viewport-relative heights (50vh/25vh)",
        "IMPROVED: Clickable Hyperlinks - click any row to open URL in new tab for verification",
        "NEW: Visual hover feedback with external-link icon on hyperlink rows",
        "NEW: Test document hyperlink_test.docx with working and broken link examples"
      ]
    },
    {
      "version": "3.0.120",
      "date": "2026-02-01",
      "changes": [
        "FEATURE: 3D Carousel for Issues by Section in Document Analytics",
        "NEW: Drag-to-spin rotation and slider navigation for section boxes",
        "NEW: Click on carousel box to filter issues to that section",
        "NEW: Color-coded borders based on issue density (none/low/medium/high)",
        "IMPROVED: Touch support for mobile devices"
      ]
    },
    {
      "version": "3.0.119",
      "date": "2026-02-01",
      "changes": [
        "FIX: Document Filter Dropdown - correctly filters roles by document in Roles Studio",
        "FIX: CSS selector bug in roles tab switching (.roles-nav-btn.active → .roles-nav-item.active)",
        "IMPROVED: Help Modal sizing - 85vw × 80vh with opaque backdrop",
        "DOCS: Comprehensive Help Documentation Overhaul with Fix Assistant v2, Hyperlink Health, Batch Processing sections",
        "DOCS: Added 8 Core Capabilities cards, Checker List table, Keyboard shortcuts tables"
      ]
    },
    {
      "version": "3.0.116",
      "date": "2026-02-01",
      "changes": [
        "FIX: Batch memory - streaming file uploads to reduce memory usage (BUG-M02)",
        "FIX: SessionManager - automatic cleanup thread prevents memory growth (BUG-M03)",
        "FIX: Batch errors - full tracebacks now logged for debugging (BUG-M04)",
        "FIX: localStorage key collision - unique document IDs prevent overwriting (BUG-M05)",
        "NEW: MAX_BATCH_SIZE (10) and MAX_BATCH_TOTAL_SIZE (100MB) constants defined (BUG-L07)",
        "NEW: SessionManager.start_auto_cleanup() runs hourly to remove sessions > 24h old",
        "NEW: FixAssistantState.generateDocumentId() creates collision-free storage keys"
      ]
    },
    {
      "version": "3.0.115",
      "date": "2026-02-01",
      "changes": [
        "FEATURE: Document Type Profiles - Customize which checks are performed for PrOP, PAL, FGOST, SOW",
        "NEW: Settings > Document Profiles tab with checker grid for each document type",
        "NEW: Custom profiles persist in localStorage across sessions (user-specific)",
        "NEW: Select All, Clear All, Reset to Default buttons for profile management",
        "NEW: First-time user prompt to configure document profiles on initial app launch",
        "IMPROVED: applyPreset now uses custom profiles when available for document type presets"
      ]
    },
    {
      "version": "3.0.110",
      "date": "2026-02-01",
      "changes": [
        "FEATURE: Hyperlink Validator - Export highlighted DOCX with broken links marked in red/yellow/strikethrough",
        "FEATURE: Hyperlink Validator - Export highlighted Excel with broken link rows in red background",
        "NEW: API endpoints /api/hyperlink-validator/export-highlighted/docx and /excel",
        "NEW: 'Export Highlighted' button in Hyperlink Validator modal (enabled after file validation)"
      ]
    },
    {
      "version": "3.0.109",
      "date": "2026-01-28",
      "changes": [
        "FIX: Batch Modal - Now opens correctly (Issue #1)",
        "FIX: Hyperlinks - Now extracts HYPERLINK field codes from DOCX files (Issue #2)",
        "FIX: Acronym Highlighting - Uses word boundary regex to prevent false positives (Issue #3)",
        "FIX: Fix Assistant Premium - Complete implementation with working controls (Issue #4)",
        "FIX: Statement Forge - 'No document loaded' fixed with consistent state checks (Issue #5)",
        "FIX: Scan History - Added /stats, /clear, /recall API endpoints (Issue #6)",
        "FIX: Triage Mode - State.documentId now set after fresh review (Issue #7)",
        "FIX: Document Filter - Now populates from scan history (Issue #8)",
        "FIX: Role-Document Matrix - Improved response validation and error handling (Issue #9)",
        "FIX: Export Modal Badge Overflow - Badges now wrap and truncate properly (Issue #10)",
        "FIX: Comment Placement - Smart quote normalization and multi-strategy matching (Issue #11)",
        "FIX: Version History - Added missing versions to help documentation (Issue #12)",
        "FIX: Updater Rollback - Uses correct endpoint, button enable/disable fixed (Issue #13)",
        "FIX: No Updates Empty State - Proper centered styling with icon (Issue #14)",
        "FIX: Logo 404 - Fixed missing logo reference (Issue #15)",
        "IMPROVED: Statement extraction patterns - added responsibility/accountability phrases",
        "IMPROVED: Fallback extraction for documents without clear section structure",
        "IMPROVED: Role-Document Matrix error display with retry button"
      ]
    },
    {
      "version": "3.0.108",
      "date": "2026-01-28",
      "changes": [
        "FIX: Document filter dropdown now populates with scanned document names (BUG-009)",
        "FIX: Added source_documents field to role extraction data"
      ]
    },
    {
      "version": "3.0.107",
      "date": "2026-01-28",
      "changes": [
        "FIX: Role Details tab now shows sample_contexts from documents (BUG-007)",
        "FIX: Role-Doc Matrix shows helpful guidance when empty instead of stuck loading (BUG-008)",
        "UX: Matrix tab explains how to populate cross-document data"
      ]
    },
    {
      "version": "3.0.106",
      "date": "2026-01-28",
      "changes": [
        "FIX: Fix Assistant v2 Document Viewer empty - paragraphs/page_map/headings now returned from core.py (BUG-006)",
        "FIX: Remaining deprecated datetime.utcnow() calls in config_logging.py (BUG-M01)"
      ]
    },
    {
      "version": "3.0.105",
      "date": "2026-01-28",
      "changes": [
        "FIX: Report generator API signature mismatch - generate() now returns bytes when output_path not provided (BUG-001)",
        "FIX: Learner stats endpoint now uses standard {success, data} response envelope (BUG-002)",
        "FIX: Acronym checker mode handling - strict mode now properly flags common acronyms (BUG-003)",
        "FIX: Role classification tiebreak - 'Report Engineer' now correctly classified as role (BUG-004)",
        "FIX: Comment pack now includes location hints from hyperlink_info (BUG-005)",
        "MAINT: Updated deprecated datetime.utcnow() calls to datetime.now(timezone.utc) (WARN-001)"
      ]
    },
    {
      "version": "3.0.104",
      "date": "2026-01-28",
      "changes": [
        "FIX: Fix Assistant v2 load failure - BodyText style conflict resolved",
        "FIX: Logger reserved keyword conflict in static file security",
        "TEST: Updated test expectations for static file security responses",
        "TEST: Fixed CSS test locations for modularized stylesheets"
      ]
    },
    {
      "version": "3.0.103",
      "date": "2026-01-28",
      "changes": [
        "SECURITY: innerHTML safety audit - all 143 usages documented and verified (Task A)",
        "REFACTOR: CSS modularized into 10 logical files for maintainability (Task B)",
        "QUALITY: Test suite modernized with docstrings and FAV2 API tests (Task C)",
        "QUALITY: Exception handling refined with specific catches (Task D)",
        "DOCS: Added comprehensive code comments throughout JavaScript",
        "TESTS: Added TestFixAssistantV2API, TestBatchLimits, TestSessionCleanup classes"
      ]
    },
    {
      "version": "3.0.102",
      "date": "2026-01-28",
      "changes": [
        "STABILIZATION: Intermediate release between 3.0.101 and 3.0.103",
        "FIX: Minor adjustments to error handling patterns"
      ]
    },
    {
      "version": "3.0.101",
      "date": "2026-01-28",
      "changes": [
        "REFACTOR: Standardized API error responses with correlation IDs (ISSUE-004)",
        "REFACTOR: Centralized document type detection into get_document_extractor() helper (ISSUE-008)",
        "REFACTOR: Centralized user-facing strings into STRINGS constant (ISSUE-009)",
        "DOCS: Added comprehensive JSDoc comments to feature modules (ISSUE-010)",
        "CODE REVIEW: Completed remaining 4 of 12 issues from comprehensive code review audit"
      ]
    },
    {
      "version": "3.0.100",
      "date": "2026-01-28",
      "changes": [
        "SECURITY: Added ReDoS protection with safe regex wrappers (ISSUE-001)",
        "PERFORMANCE: Enabled WAL mode for SQLite with busy_timeout for concurrent access (ISSUE-002)",
        "PERFORMANCE: Added file size validation for large document protection (ISSUE-003)",
        "SECURITY: Enhanced input validation on learner dictionary API (ISSUE-005)",
        "FIX: State.entities now properly reset on new document load (ISSUE-006)",
        "FIX: Added cleanup() function to FixAssistantState to prevent memory leaks (ISSUE-007)",
        "CODE REVIEW: Addressed 7 of 12 issues from comprehensive code review audit"
      ]
    },
    {
      "version": "3.0.99",
      "date": "2026-01-28",
      "changes": [
        "STABILIZATION: Intermediate release between 3.0.98 and 3.0.100",
        "FIX: Minor bug fixes from 3.0.98 testing"
      ]
    },
    {
      "version": "3.0.98",
      "date": "2026-01-28",
      "changes": [
        "FIX: Export modal crash (BUG-002)",
        "FIX: Context highlighting showing wrong text (BUG-003)",
        "FIX: Restored hyperlink status panel (BUG-004)",
        "FIX: Restored Role-Document matrix tab (BUG-009)",
        "FIX: Double browser tab on startup (BUG-001)",
        "FIX: Version history gaps in Help (BUG-005)",
        "IMPROVED: Role Details tab with context preview (BUG-007)",
        "IMPROVED: Document filter dropdown in Role Studio (BUG-008)",
        "IMPROVED: Comprehensive TWR_LESSONS_LEARNED.md updates (BUG-006)"
      ]
    },
    {
      "version": "3.0.97",
      "date": "2026-01-28",
      "changes": [
        "NEW: Fix Assistant v2 - Complete premium document review interface",
        "NEW: Two-panel document viewer with page navigation and highlighting",
        "NEW: Mini-map showing document overview with fix position markers",
        "NEW: Undo/redo capability for all review decisions",
        "NEW: Search and filter fixes by text, category, or confidence",
        "NEW: Save progress and continue later (localStorage persistence)",
        "NEW: Learning from user decisions (pattern tracking, no AI)",
        "NEW: Custom dictionary for terms to always skip",
        "NEW: Live preview mode showing changes inline",
        "NEW: Split-screen view (original vs fixed document)",
        "NEW: PDF summary report generation",
        "NEW: Accessibility features (high contrast, screen reader support)",
        "NEW: Enhanced keyboard shortcuts (A=accept, R=reject, S=skip, U=undo)",
        "NEW: Optional sound effects for actions (Web Audio API)",
        "NEW: Rejected fixes exported as document comments with reviewer notes",
        "IMPROVED: Export now handles both accepted fixes (track changes) and rejected fixes (comments)",
        "API: Added /api/learner/* endpoints for pattern learning",
        "API: Added /api/report/generate endpoint for PDF reports"
      ]
    },
    {
      "version": "3.0.96",
      "date": "2026-01-27",
      "changes": [
        "NEW: Fix Assistant - premium triage-style interface for reviewing automatic fixes",
        "NEW: Keyboard shortcuts in Fix Assistant (A=accept, R=reject, S=skip, arrows=nav)",
        "NEW: Confidence tiers (Safe/Review/Caution) for each proposed fix",
        "NEW: Context display showing surrounding text with highlighted change",
        "NEW: Before/After comparison with clear visual distinction",
        "NEW: Bulk actions (Accept All Safe, Accept All, Reject All)",
        "IMPROVED: Export now uses Fix Assistant selections instead of all fixes",
        "IMPROVED: Progress tracking shows reviewed/total count",
        "UI: Premium styling with confidence badges, progress bar, keyboard hints"
      ]
    },
    {
      "version": "3.0.95",
      "date": "2026-01-27",
      "changes": [
        "FIX: Version display consistency - all UI components now show same version",
        "FIX: About section simplified - shows only author name",
        "FIX: Heatmap clicking - Category × Severity heatmap now filters issues on click",
        "NEW: Hyperlink status panel - visual display of checked hyperlinks and validation status",
        "IMPROVED: Section heatmap click feedback with toast messages"
      ]
    },
    {
      "version": "3.0.94",
      "date": "2026-01-27",
      "changes": [
        "STABILIZATION: Intermediate release between 3.0.93 and 3.0.95",
        "FIX: Refinements to acronym detection logic"
      ]
    },
    {
      "version": "3.0.93",
      "date": "2026-01-27",
      "changes": [
        "ACRONYM: Added 100+ common ALL CAPS words to COMMON_CAPS_SKIP",
        "ACRONYM: Added PDF word fragment detection",
        "TESTING: Reduced false positive acronym flagging by ~55%"
      ]
    },
    {
      "version": "3.0.92",
      "date": "2026-01-27",
      "changes": [
        "FIXED: PDF punctuation false positives",
        "FIXED: Acronym false positives",
        "ADDED: PDF hyperlink extraction via PyMuPDF"
      ]
    }
  ]
}
